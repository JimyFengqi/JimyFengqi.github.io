---
title: 120-ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ(Triangle)
date: 2021-12-03 22:56:42
categories:
  - ä¸­ç­‰
tags:
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/triangle


## è‹±æ–‡åŸæ–‡
<div><p>Given a <code>triangle</code> array, return <em>the minimum path sum from top to bottom</em>.</p>

<p>For each step, you may move to an adjacent number of the row below. More formally, if you are on index <code>i</code> on the current row, you may move to either index <code>i</code> or index <code>i + 1</code> on the next row.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> triangle = [[2],[3,4],[6,5,7],[4,1,8,3]]
<strong>Output:</strong> 11
<strong>Explanation:</strong> The triangle looks like:
   <u>2</u>
  <u>3</u> 4
 6 <u>5</u> 7
4 <u>1</u> 8 3
The minimum path sum from top to bottom is 2 + 3 + 5 + 1 = 11 (underlined above).
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> triangle = [[-10]]
<strong>Output:</strong> -10
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>1 &lt;= triangle.length &lt;= 200</code></li>
	<li><code>triangle[0].length == 1</code></li>
	<li><code>triangle[i].length == triangle[i - 1].length + 1</code></li>
	<li><code>-10<sup>4</sup> &lt;= triangle[i][j] &lt;= 10<sup>4</sup></code></li>
</ul>

<p>&nbsp;</p>
<strong>Follow up:</strong> Could you&nbsp;do this using only <code>O(n)</code> extra space, where <code>n</code> is the total number of rows in the triangle?</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ç»™å®šä¸€ä¸ªä¸‰è§’å½¢ <code>triangle</code> ï¼Œæ‰¾å‡ºè‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œã€‚</p>

<p>æ¯ä¸€æ­¥åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­ç›¸é‚»çš„ç»“ç‚¹ä¸Šã€‚<strong>ç›¸é‚»çš„ç»“ç‚¹ </strong>åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯ <strong>ä¸‹æ ‡</strong> ä¸ <strong>ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡</strong> ç›¸åŒæˆ–è€…ç­‰äº <strong>ä¸Šä¸€å±‚ç»“ç‚¹ä¸‹æ ‡ + 1</strong> çš„ä¸¤ä¸ªç»“ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ­£ä½äºå½“å‰è¡Œçš„ä¸‹æ ‡ <code>i</code> ï¼Œé‚£ä¹ˆä¸‹ä¸€æ­¥å¯ä»¥ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œçš„ä¸‹æ ‡ <code>i</code> æˆ– <code>i + 1</code> ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>triangle = [[2],[3,4],[6,5,7],[4,1,8,3]]
<strong>è¾“å‡ºï¼š</strong>11
<strong>è§£é‡Šï¼š</strong>å¦‚ä¸‹é¢ç®€å›¾æ‰€ç¤ºï¼š
   <strong>2</strong>
  <strong>3</strong> 4
 6 <strong>5</strong> 7
4 <strong>1</strong> 8 3
è‡ªé¡¶å‘ä¸‹çš„æœ€å°è·¯å¾„å’Œä¸ºÂ 11ï¼ˆå³ï¼Œ2Â +Â 3Â +Â 5Â +Â 1Â = 11ï¼‰ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>triangle = [[-10]]
<strong>è¾“å‡ºï¼š</strong>-10
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= triangle.length <= 200</code></li>
	<li><code>triangle[0].length == 1</code></li>
	<li><code>triangle[i].length == triangle[i - 1].length + 1</code></li>
	<li><code>-10<sup>4</sup> <= triangle[i][j] <= 10<sup>4</sup></code></li>
</ul>

<p>Â </p>

<p><strong>è¿›é˜¶ï¼š</strong></p>

<ul>
	<li>ä½ å¯ä»¥åªä½¿ç”¨ <code>O(n)</code>Â çš„é¢å¤–ç©ºé—´ï¼ˆ<code>n</code> ä¸ºä¸‰è§’å½¢çš„æ€»è¡Œæ•°ï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£


ğŸ™‹ ä»Šæ—¥æ‰“å¡ï½


### ä¸€ã€é¢˜ç›®åˆ†æ
**é¢˜æ„**ï¼š
ç»™å®šä¸‰è§’å½¢ï¼Œæ¯æ¬¡åªèƒ½ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œä¸­çš„ç›¸é‚»ç»“ç‚¹ï¼Œæ±‚ä»é¡¶ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œã€‚
```Java []
[
[2],
[3,4],
[6,5,7],
[4,1,8,3]
]
ç›¸é‚»ç»“ç‚¹ï¼šä¸(i, j) ç‚¹ç›¸é‚»çš„ç»“ç‚¹ä¸º (i + 1, j)Â å’Œ (i + 1, j + 1)ã€‚
```


**åˆ†æ**ï¼š
è‹¥å®šä¹‰ $f(i, j)$ ä¸º $(i, j)$ ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œï¼Œåˆ™æ˜“çŸ¥é€’å½’æ±‚è§£å¼ä¸º:

$f(i, j) = min(f(i + 1, j), f(i + 1, j + 1)) + triangle[i][j]$

ç”±æ­¤ï¼Œæˆ‘ä»¬å°†ä»»ä¸€ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œï¼Œè½¬åŒ–æˆäº†ä¸è¯¥ç‚¹ç›¸é‚»ä¸¤ç‚¹åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œä¸­çš„è¾ƒå°å€¼ï¼Œå†åŠ ä¸Šè¯¥ç‚¹æœ¬èº«çš„å€¼ã€‚è¿™æ ·æœ¬é¢˜çš„ **é€’å½’è§£æ³•ï¼ˆè§£æ³•ä¸€ï¼‰** å°±å®Œæˆäº†ã€‚

### äºŒã€å…·ä½“å®ç°
#### è§£æ³•ä¸€ï¼šé€’å½’
```Java []
class Solution {
    public int minimumTotal(List<List<Integer>> triangle) {
        return  dfs(triangle, 0, 0);
    }

    private int dfs(List<List<Integer>> triangle, int i, int j) {
        if (i == triangle.size()) {
            return 0;
        }
        return Math.min(dfs(triangle, i + 1, j), dfs(triangle, i + 1, j + 1)) + triangle.get(i).get(j);
    }
}
```
æš´åŠ›æœç´¢ä¼šæœ‰å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œå¯¼è‡´ **è¶…æ—¶**ï¼Œå› æ­¤åœ¨ **è§£æ³•äºŒ** ä¸­ç»“åˆè®°å¿†åŒ–æ•°ç»„è¿›è¡Œä¼˜åŒ–ã€‚


#### è§£æ³•äºŒï¼šé€’å½’ + è®°å¿†åŒ–

åœ¨è§£æ³•ä¸€çš„åŸºç¡€ä¸Šï¼Œå®šä¹‰äº†äºŒç»´æ•°ç»„è¿›è¡Œè®°å¿†åŒ–ã€‚
```Java []
class Solution {
    Integer[][] memo;
    public int minimumTotal(List<List<Integer>> triangle) {
        memo = new Integer[triangle.size()][triangle.size()];
        return  dfs(triangle, 0, 0);
    }

    private int dfs(List<List<Integer>> triangle, int i, int j) {
        if (i == triangle.size()) {
            return 0;
        }
        if (memo[i][j] != null) {
            return memo[i][j];
        }
        return memo[i][j] = Math.min(dfs(triangle, i + 1, j), dfs(triangle, i + 1, j + 1)) + triangle.get(i).get(j);
    }
}
```
æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚

### è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’
å®šä¹‰äºŒç»´ dp æ•°ç»„ï¼Œå°†è§£æ³•äºŒä¸­ã€Œè‡ªé¡¶å‘ä¸‹çš„é€’å½’ã€æ”¹ä¸ºã€Œè‡ªåº•å‘ä¸Šçš„é€’æ¨ã€ã€‚
#### 1ã€çŠ¶æ€å®šä¹‰ï¼š
$dp[i][j]$ è¡¨ç¤ºä»ç‚¹ $(i, j)$ åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œã€‚
#### 2ã€çŠ¶æ€è½¬ç§»ï¼š
$dp[i][j] = min(dp[i + 1][j], dp[i + 1][j + 1]) + triangle[i][j]$
#### 3ã€ä»£ç å®ç°ï¼š
```Java []
class Solution {
    public int minimumTotal(List<List<Integer>> triangle) {
        int n = triangle.size();
        // dp[i][j] è¡¨ç¤ºä»ç‚¹ (i, j) åˆ°åº•è¾¹çš„æœ€å°è·¯å¾„å’Œã€‚
        int[][] dp = new int[n + 1][n + 1];
        // ä»ä¸‰è§’å½¢çš„æœ€åä¸€è¡Œå¼€å§‹é€’æ¨ã€‚
        for (int i = n - 1; i >= 0; i--) {
            for (int j = 0; j <= i; j++) {
                dp[i][j] = Math.min(dp[i + 1][j], dp[i + 1][j + 1]) + triangle.get(i).get(j);
            }
        }
        return dp[0][0];
    }
}
```
æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚

#### 4ã€ç©ºé—´ä¼˜åŒ–   
åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª $N$ è¡Œ $N$ åˆ— çš„ $dp$ æ•°ç»„ï¼ˆ$N$ æ˜¯ä¸‰è§’å½¢çš„è¡Œæ•°ï¼‰ã€‚
ä½†æ˜¯åœ¨å®é™…é€’æ¨ä¸­æˆ‘ä»¬å‘ç°ï¼Œè®¡ç®— $dp[i][j]$ æ—¶ï¼Œåªç”¨åˆ°äº†ä¸‹ä¸€è¡Œçš„ $dp[i + 1][j]$ å’Œ $dp[i + 1][j + 1]$ã€‚
å› æ­¤ $dp$ æ•°ç»„ä¸éœ€è¦å®šä¹‰ $N$ è¡Œï¼Œåªè¦å®šä¹‰ $1$ è¡Œå°±é˜”ä»¥å•¦ã€‚
æ‰€ä»¥æˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ä¸Šè¿°ä»£ç ï¼Œå°† $i$ æ‰€åœ¨çš„ç»´åº¦å»æ‰ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œå°±å¯ä»¥å°† $O(N^2)$ çš„ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–æˆ $O(N)$ å•¦ï½

```Java []
class Solution {
    public int minimumTotal(List<List<Integer>> triangle) {
        int n = triangle.size();
        int[] dp = new int[n + 1];
        for (int i = n - 1; i >= 0; i--) {
            for (int j = 0; j <= i; j++) {
                dp[j] = Math.min(dp[j], dp[j + 1]) + triangle.get(i).get(j);
            }
        }
        return dp[0];
    }
}
```
æ—¶é—´å¤æ‚åº¦ï¼š$O(N^2)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚
ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œ$N$ ä¸ºä¸‰è§’å½¢çš„è¡Œæ•°ã€‚





## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    192201    |    281535    |   68.3%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

---
title: 1626-æ— çŸ›ç›¾çš„æœ€ä½³çƒé˜Ÿ(Best Team With No Conflicts)
categories:
  - ä¸­ç­‰
tags:
  - æ•°ç»„
  - åŠ¨æ€è§„åˆ’
  - æ’åº
abbrlink: 2489416952
date: 2021-12-03 22:03:03
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/best-team-with-no-conflicts


## è‹±æ–‡åŸæ–‡
<div><p>You are the manager of a basketball team. For the upcoming tournament, you want to choose the team with the highest overall score. The score of the team is the <strong>sum</strong> of scores of all the players in the team.</p>

<p>However, the basketball team is not allowed to have <strong>conflicts</strong>. A <strong>conflict</strong> exists if a younger player has a <strong>strictly higher</strong> score than an older player. A conflict does <strong>not</strong> occur between players of the same age.</p>

<p>Given two lists, <code>scores</code> and <code>ages</code>, where each <code>scores[i]</code> and <code>ages[i]</code> represents the score and age of the <code>i<sup>th</sup></code> player, respectively, return <em>the highest overall score of all possible basketball teams</em>.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> scores = [1,3,5,10,15], ages = [1,2,3,4,5]
<strong>Output:</strong> 34
<strong>Explanation:</strong>&nbsp;You can choose all the players.
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> scores = [4,5,6,5], ages = [2,1,2,1]
<strong>Output:</strong> 16
<strong>Explanation:</strong>&nbsp;It is best to choose the last 3 players. Notice that you are allowed to choose multiple people of the same age.
</pre>

<p><strong>Example 3:</strong></p>

<pre>
<strong>Input:</strong> scores = [1,2,3,5], ages = [8,9,10,1]
<strong>Output:</strong> 6
<strong>Explanation:</strong>&nbsp;It is best to choose the first 3 players. 
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>1 &lt;= scores.length, ages.length &lt;= 1000</code></li>
	<li><code>scores.length == ages.length</code></li>
	<li><code>1 &lt;= scores[i] &lt;= 10<sup>6</sup></code></li>
	<li><code>1 &lt;= ages[i] &lt;= 1000</code></li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>å‡è®¾ä½ æ˜¯çƒé˜Ÿçš„ç»ç†ã€‚å¯¹äºå³å°†åˆ°æ¥çš„é”¦æ ‡èµ›ï¼Œä½ æƒ³ç»„åˆä¸€æ”¯æ€»ä½“å¾—åˆ†æœ€é«˜çš„çƒé˜Ÿã€‚çƒé˜Ÿçš„å¾—åˆ†æ˜¯çƒé˜Ÿä¸­æ‰€æœ‰çƒå‘˜çš„åˆ†æ•° <strong>æ€»å’Œ</strong> ã€‚</p>

<p>ç„¶è€Œï¼Œçƒé˜Ÿä¸­çš„çŸ›ç›¾ä¼šé™åˆ¶çƒå‘˜çš„å‘æŒ¥ï¼Œæ‰€ä»¥å¿…é¡»é€‰å‡ºä¸€æ”¯ <strong>æ²¡æœ‰çŸ›ç›¾</strong> çš„çƒé˜Ÿã€‚å¦‚æœä¸€åå¹´é¾„è¾ƒå°çƒå‘˜çš„åˆ†æ•° <strong>ä¸¥æ ¼å¤§äº</strong> ä¸€åå¹´é¾„è¾ƒå¤§çš„çƒå‘˜ï¼Œåˆ™å­˜åœ¨çŸ›ç›¾ã€‚åŒé¾„çƒå‘˜ä¹‹é—´ä¸ä¼šå‘ç”ŸçŸ›ç›¾ã€‚</p>

<p>ç»™ä½ ä¸¤ä¸ªåˆ—è¡¨ <code>scores</code> å’Œ <code>ages</code>ï¼Œå…¶ä¸­æ¯ç»„ <code>scores[i]</code> å’Œ <code>ages[i]</code> è¡¨ç¤ºç¬¬ <code>i</code> åçƒå‘˜çš„åˆ†æ•°å’Œå¹´é¾„ã€‚è¯·ä½ è¿”å› <strong>æ‰€æœ‰å¯èƒ½çš„æ— çŸ›ç›¾çƒé˜Ÿä¸­å¾—åˆ†æœ€é«˜é‚£æ”¯çš„åˆ†æ•°</strong> ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>scores = [1,3,5,10,15], ages = [1,2,3,4,5]
<strong>è¾“å‡ºï¼š</strong>34
<strong>è§£é‡Šï¼š</strong>ä½ å¯ä»¥é€‰ä¸­æ‰€æœ‰çƒå‘˜ã€‚</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>scores = [4,5,6,5], ages = [2,1,2,1]
<strong>è¾“å‡ºï¼š</strong>16
<strong>è§£é‡Šï¼š</strong>æœ€ä½³çš„é€‰æ‹©æ˜¯å 3 åçƒå‘˜ã€‚æ³¨æ„ï¼Œä½ å¯ä»¥é€‰ä¸­å¤šä¸ªåŒé¾„çƒå‘˜ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>scores = [1,2,3,5], ages = [8,9,10,1]
<strong>è¾“å‡ºï¼š</strong>6
<strong>è§£é‡Šï¼š</strong>æœ€ä½³çš„é€‰æ‹©æ˜¯å‰ 3 åçƒå‘˜ã€‚
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= scores.length, ages.length &lt;= 1000</code></li>
	<li><code>scores.length == ages.length</code></li>
	<li><code>1 &lt;= scores[i] &lt;= 10<sup>6</sup></code></li>
	<li><code>1 &lt;= ages[i] &lt;= 1000</code></li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
### è§£é¢˜æ€è·¯

æœ¬é¢˜çš„æ•°æ®èŒƒå›´æ˜¾ç„¶ä¸å¯èƒ½æ”¯æŒæˆ‘ä»¬è¿›è¡Œæ‰€æœ‰å­é›†çš„æšä¸¾ã€‚æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ç§é¡ºåºï¼Œä½¿å¾—æˆ‘ä»¬åœ¨è¿›è¡Œé€‰æ‹©æ—¶ï¼Œæ€»æ˜¯ä¸ä¼šå‘ç”Ÿå†²çªã€‚

æˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰é˜Ÿå‘˜æŒ‰ç…§å¹´é¾„å‡åºè¿›è¡Œæ’åºï¼Œå¹´é¾„ç›¸åŒæ—¶ï¼Œåˆ™æŒ‰ç…§åˆ†æ•°å‡åºè¿›è¡Œæ’åºã€‚æ’åºä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡ŒåŠ¨æ€è§„åˆ’ã€‚ä»¤ $dp[i]$ è¡¨ç¤ºæœ€åä¸€ä¸ªé˜Ÿå‘˜æ˜¯ç¬¬$i$ä¸ªé˜Ÿå‘˜æ—¶çš„æœ€å¤§åˆ†æ•°ï¼ˆè¿™é‡Œçš„ $i$ æ˜¯é‡æ–°æ’åºåçš„ç¼–å·ï¼‰ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ $[0,i-1]$ çš„èŒƒå›´å†…æšä¸¾ä¸Šä¸€ä¸ªé˜Ÿå‘˜å³å¯ã€‚è¿™é‡Œï¼Œå¦‚æœä¸Šä¸€ä¸ªé˜Ÿå‘˜çš„åˆ†æ•°ä¸è¶…è¿‡å½“å‰é˜Ÿå‘˜çš„åˆ†æ•°ï¼Œå°±å¯ä»¥è¿›è¡Œè½¬ç§»ã€‚

ä¸ºä»€ä¹ˆè¿™æ ·çš„æšä¸¾ä¸€å®šæ˜¯åˆæ³•çš„å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬çš„æœ€å¤§åˆ†æ•°æ€»æ˜¯åœ¨æœ€åä¸€ä¸ªé˜Ÿå‘˜å¤„å–å¾—ï¼ˆå¯¹äºç›¸åŒå¹´é¾„çš„ï¼Œæˆ‘ä»¬æ˜¯æŒ‰ç…§åˆ†æ•°å‡åºæ’åºçš„ï¼Œæ‰€ä»¥åˆ†æ•°è¾ƒé«˜çš„ä¸€å®šåœ¨æ›´åé¢ï¼‰ï¼ŒåŒæ—¶ç¬¬ $i$ ä¸ªé˜Ÿå‘˜çš„å¹´é¾„ä¸å°äºä¹‹å‰ä»»æ„é˜Ÿå‘˜çš„å¹´é¾„ï¼Œæ‰€ä»¥åªè¦ç¬¬ $i$ ä¸ªé˜Ÿå‘˜çš„åˆ†æ•°å¤§äºç­‰äºä¹‹å‰çš„åˆ†ç»„ä¸­æœ€åä¸€ä¸ªé˜Ÿå‘˜çš„åˆ†æ•°ï¼Œå°±ä¸€å®šå¯ä»¥å°†ç¬¬ $i$ ä¸ªé˜Ÿå‘˜åŠ å…¥åˆ°ç»„é‡Œï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªä»¥ç¬¬ $i$ ä¸ªé˜Ÿå‘˜ä¸ºæœ€åä¸€åé˜Ÿå‘˜çš„æ–°çš„ç»„ã€‚

### å¤æ‚åº¦

- æ—¶é—´å¤æ‚åº¦ $O(N^2)$
- ç©ºé—´å¤æ‚åº¦ $O(N)$

### ä»£ç 

```cpp
class Solution {
public:
    int bestTeamScore(vector<int>& scores, vector<int>& ages) {
        int n = scores.size();
        vector<int> order(n);
        for (int i = 0; i < n; ++i)
            order[i] = i;
        sort(order.begin(), order.end(), [&](int i, int j){
            return ages[i] < ages[j] || (ages[i] == ages[j] && scores[i] < scores[j]);
        });
        vector<int> dp(n);
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            int idx = order[i];
            dp[i] = scores[idx];
            for (int j = 0; j < i; ++j) {
                int last = order[j];
                if (scores[last] <= scores[idx])
                    dp[i] = max(dp[i], dp[j] + scores[idx]);
            }
            ans = max(ans, dp[i]);
        }
        return ans;
    }
};
```
æŒç»­æ›´æ–°æ›´å¤šä¼˜è´¨é¢˜è§£ï¼Œæ¬¢è¿ ğŸŒŸ[å…³æ³¨æˆ‘](https://leetcode-cn.com/u/lucifer1004/)

## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    4070    |    10478    |   38.8%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

---
title: 525-è¿ç»­æ•°ç»„(Contiguous Array)
categories:
  - ä¸­ç­‰
tags:
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
  - å‰ç¼€å’Œ
abbrlink: 1360253688
date: 2021-12-03 22:43:23
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/contiguous-array


## è‹±æ–‡åŸæ–‡
<div><p>Given a binary array <code>nums</code>, return <em>the maximum length of a contiguous subarray with an equal number of </em><code>0</code><em> and </em><code>1</code>.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> nums = [0,1]
<strong>Output:</strong> 2
<strong>Explanation:</strong> [0, 1] is the longest contiguous subarray with an equal number of 0 and 1.
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> nums = [0,1,0]
<strong>Output:</strong> 2
<strong>Explanation:</strong> [0, 1] (or [1, 0]) is a longest contiguous subarray with equal number of 0 and 1.
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>
	<li><code>nums[i]</code> is either <code>0</code> or <code>1</code>.</li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ <code>nums</code> , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ <code>0</code> å’Œ <code>1</code> çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> nums = [0,1]
<strong>è¾“å‡º:</strong> 2
<strong>è¯´æ˜:</strong> [0, 1] æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚</pre>

<p><strong>ç¤ºä¾‹ 2:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> nums = [0,1,0]
<strong>è¾“å‡º:</strong> 2
<strong>è¯´æ˜:</strong> [0, 1] (æˆ– [1, 0]) æ˜¯å…·æœ‰ç›¸åŒæ•°é‡0å’Œ1çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= nums.length <= 10<sup>5</sup></code></li>
	<li><code>nums[i]</code> ä¸æ˜¯ <code>0</code> å°±æ˜¯ <code>1</code></li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
### æ­¥éª¤

è¿™é¢˜è·Ÿæ˜¨å¤©çš„é¢˜å¦‚å‡ºä¸€è¾™ï¼Œå¤§ä½“æ€è·¯ä¸€è‡´ã€‚é¦–å…ˆæˆ‘ä»¬è¿˜æ˜¯å…ˆè¯´ä¸€ä¸‹ç®—æ³•çš„æ­¥éª¤ã€‚

**ç®—æ³•æ­¥éª¤ï¼š**

1. åˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œç”¨ $key$ æ¥å‚¨å­˜ $cur$ å€¼, $value$ æ¥å‚¨å­˜å½“å‰ $index$ã€‚

2. å‡è®¾æˆ‘ä»¬ç¢°åˆ°`0`å°±å°† $cur$ $decrement$ (å‡ä¸€), ç¢°åˆ°`1`åˆ™$increment$ (åŠ ä¸€)ã€‚

3. å¦‚æœæˆ‘ä»¬èƒ½åœ¨å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°å½“å‰çš„ $cur$ å€¼, åˆ™å–å‡ºå¯¹åº”çš„ $pos$, åœ¨çœ‹å½“å‰çš„ `index - pos` æ˜¯å¦æ¯” `ans` å¤§, å–å…¶ä¸­çš„æœ€ä¼˜è§£ã€‚



**æ ¸å¿ƒï¼šç”±äºä»¥ä¸Šç¢°`1`åŠ ä¸€ï¼Œç¢°`0`å‡ä¸€çš„æ“ä½œï¼Œå½“`0`ä¸`1`æ•°é‡ä¸€è‡´æ—¶(è¿ç»­æ•°ç»„), å…¶è¿ç»­æ•°ç»„çš„å’Œä¸ºé›¶ã€‚å› æ­¤æˆ‘ä»¬çŸ¥é“æ•°ç»„å‰é¢çš„ $cur$ å€¼æ˜¯ä»€ä¹ˆï¼Œåœ¨åˆ°è¾¾è¯¥è¿ç»­æ•°ç»„å°¾éƒ¨æ—¶å°±ä¸ä¼šå˜ã€‚å› æ­¤æˆ‘ä»¬åªéœ€è¦æ£€æŸ¥å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨å…¶ç›¸åŒçš„ $cur$ å€¼å³å¯ï¼**(å¤šè¯»å‡ é)

*********************

### ä½ é—®æˆ‘ç­”

1. ä¸ºä»€ä¹ˆåœ¨å“ˆå¸Œè¡¨ä¸­æ‰¾åˆ°äº†ç›¸åŒçš„ $cur$ å€¼åˆ™ç®—æ‰¾åˆ°äº†ä¸€ä¸²è¿ç»­æ•°ç»„ï¼Ÿ

>â€œå¦‚æœè¿™æ˜¯ä¸€ä¸²è¿ç»­å­æ•°ç»„ï¼Œé‚£ä¹ˆcurçš„å€¼ï¼Œåœ¨åˆ°è¾¾è¯¥å­æ•°ç»„å°¾éƒ¨æ—¶(ç´«è‰²ç®­å¤´å¤„)ï¼Œä¸åœ¨è¯¥å­æ•°ç»„å‰ä¸€ä½æ—¶(ç»¿è‰²ç®­å¤´å¤„)ï¼Œæ˜¯ç›¸ç­‰çš„â€ å‡ºè‡ªè¯„è®ºåŒº[@bingo-70](/u/bingo-70/)



![5de8577a0b96cb4a525764aeb4e5657.png](../images/contiguous-array-0.png)



2. ä¸ºä»€ä¹ˆè¦åœ¨å“ˆå¸Œè¡¨ä¸­æ’å…¥`{0, -1}`?

è¿™æ˜¯ä¸ºäº†è¾…åŠ©è®¨è®ºè¯¥è¿ç»­æ•°ç»„çš„èµ·å§‹ç‚¹åœ¨ `index == 0` çš„ä½ç½®çš„æƒ…å†µï¼Œå¦‚æœæœ€é•¿è¿ç»­æ•°ç»„åœ¨æ•°ç»„çš„æœ€å‰æ–¹ï¼Œä¸æ’å…¥`{0,-1}`ä¼šå¾—åˆ°é”™è¯¯çš„ç­”æ¡ˆï¼Œå› æ­¤æˆ‘ä»¬ä¸€å®šè¦æ’å…¥è¯¥è¾…åŠ©é”®å€¼ï¼å…·ä½“å¯ä»¥çœ‹çœ‹åŠ¨å›¾ä¸­çš„å‰å‡ ä½æ•°å­—çœ‹çœ‹`{0,-1}`æ˜¯å¦‚ä½•è¾…åŠ©æˆ‘ä»¬å¾—åˆ°ç­”æ¡ˆçš„ï¼

***************

### åŠ¨å›¾æ¼”ç¤º

<![Slide1.PNG](../images/contiguous-array-1.png),![Slide2.PNG](../images/contiguous-array-2.png),![Slide3.PNG](../images/contiguous-array-3.png),![Slide4.PNG](../images/contiguous-array-4.png),![Slide5.PNG](../images/contiguous-array-5.png),![Slide6.PNG](../images/contiguous-array-6.png),![Slide7.PNG](../images/contiguous-array-7.png),![Slide8.PNG](../images/contiguous-array-8.png),![Slide9.PNG](../images/contiguous-array-9.png),![Slide10.PNG](../images/contiguous-array-10.png),![Slide11.PNG](../images/contiguous-array-11.png),![Slide12.PNG](../images/contiguous-array-12.png),![Slide13.PNG](../images/contiguous-array-13.png),![Slide14.PNG](../images/contiguous-array-14.png),![Slide15.PNG](../images/contiguous-array-15.png),![Slide16.PNG](../images/contiguous-array-16.png),![Slide17.PNG](../images/contiguous-array-17.png),![Slide18.PNG](../images/contiguous-array-18.png)>

**************

### ä»£ç 

```cpp

class Solution {

public:

    int findMaxLength(vector<int>& nums) {

        unordered_map<int, int> m = {{0,-1}};

        int cur = 0, ans = 0;

        for(int i = 0; i < nums.size(); ++i)

        {

            nums[i] == 0? --cur : ++cur;

            if(m.count(cur))

                ans = max(ans, i - m[cur]);

            else

                m[cur] = i;

        }

        return ans;

    }

};

```

**********************

æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œéœ€è¦éå†æ•´ä¸ªæ•°ç»„

ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œç©ºé—´å¤æ‚åº¦å–å†³ä¸å“ˆå¸Œè¡¨ä¸­é”®å€¼çš„æ•°é‡

**********************

æœ‰æ”¶è·è¯·ç»™æˆ‘ç‚¹ä¸ªğŸ‘è¶´ï¼ŒèŸ¹èŸ¹ä½ ä»¬äº†ï¼





## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    47343    |    88250    |   53.6%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |


## ç›¸ä¼¼é¢˜ç›®
|                             é¢˜ç›®                             | éš¾åº¦ |
| :----------------------------------------------------------: | :---------: |
| [å’Œç­‰äº k çš„æœ€é•¿å­æ•°ç»„é•¿åº¦](https://leetcode-cn.com/problems/maximum-size-subarray-sum-equals-k/) | ä¸­ç­‰|

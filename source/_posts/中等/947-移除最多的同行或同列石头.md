---
title: 947-ç§»é™¤æœ€å¤šçš„åŒè¡Œæˆ–åŒåˆ—çŸ³å¤´(Most Stones Removed with Same Row or Column)
date: 2021-12-03 22:28:24
categories:
  - ä¸­ç­‰
tags:
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¶æŸ¥é›†
  - å›¾
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/most-stones-removed-with-same-row-or-column


## è‹±æ–‡åŸæ–‡
<div><p>On a 2D plane, we place <code>n</code> stones at some integer coordinate points. Each coordinate point may have at most one stone.</p>

<p>A stone can be removed if it shares either <strong>the same row or the same column</strong> as another stone that has not been removed.</p>

<p>Given an array <code>stones</code> of length <code>n</code> where <code>stones[i] = [x<sub>i</sub>, y<sub>i</sub>]</code> represents the location of the <code>i<sup>th</sup></code> stone, return <em>the largest possible number of stones that can be removed</em>.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> stones = [[0,0],[0,1],[1,0],[1,2],[2,1],[2,2]]
<strong>Output:</strong> 5
<strong>Explanation:</strong> One way to remove 5 stones is as follows:
1. Remove stone [2,2] because it shares the same row as [2,1].
2. Remove stone [2,1] because it shares the same column as [0,1].
3. Remove stone [1,2] because it shares the same row as [1,0].
4. Remove stone [1,0] because it shares the same column as [0,0].
5. Remove stone [0,1] because it shares the same row as [0,0].
Stone [0,0] cannot be removed since it does not share a row/column with another stone still on the plane.
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> stones = [[0,0],[0,2],[1,1],[2,0],[2,2]]
<strong>Output:</strong> 3
<strong>Explanation:</strong> One way to make 3 moves is as follows:
1. Remove stone [2,2] because it shares the same row as [2,0].
2. Remove stone [2,0] because it shares the same column as [0,0].
3. Remove stone [0,2] because it shares the same row as [0,0].
Stones [0,0] and [1,1] cannot be removed since they do not share a row/column with another stone still on the plane.
</pre>

<p><strong>Example 3:</strong></p>

<pre>
<strong>Input:</strong> stones = [[0,0]]
<strong>Output:</strong> 0
<strong>Explanation:</strong> [0,0] is the only stone on the plane, so you cannot remove it.
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>1 &lt;= stones.length &lt;= 1000</code></li>
	<li><code>0 &lt;= x<sub>i</sub>, y<sub>i</sub> &lt;= 10<sup>4</sup></code></li>
	<li>No two stones are at the same coordinate point.</li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p><code>n</code> å—çŸ³å¤´æ”¾ç½®åœ¨äºŒç»´å¹³é¢ä¸­çš„ä¸€äº›æ•´æ•°åæ ‡ç‚¹ä¸Šã€‚æ¯ä¸ªåæ ‡ç‚¹ä¸Šæœ€å¤šåªèƒ½æœ‰ä¸€å—çŸ³å¤´ã€‚</p>

<p>å¦‚æœä¸€å—çŸ³å¤´çš„ <strong>åŒè¡Œæˆ–è€…åŒåˆ—</strong> ä¸Šæœ‰å…¶ä»–çŸ³å¤´å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç§»é™¤è¿™å—çŸ³å¤´ã€‚</p>

<p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•°ç»„ <code>stones</code> ï¼Œå…¶ä¸­ <code>stones[i] = [x<sub>i</sub>, y<sub>i</sub>]</code> è¡¨ç¤ºç¬¬ <code>i</code> å—çŸ³å¤´çš„ä½ç½®ï¼Œè¿”å› <strong>å¯ä»¥ç§»é™¤çš„çŸ³å­</strong> çš„æœ€å¤§æ•°é‡ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>stones = [[0,0],[0,1],[1,0],[1,2],[2,1],[2,2]]
<strong>è¾“å‡ºï¼š</strong>5
<strong>è§£é‡Šï¼š</strong>ä¸€ç§ç§»é™¤ 5 å—çŸ³å¤´çš„æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š
1. ç§»é™¤çŸ³å¤´ [2,2] ï¼Œå› ä¸ºå®ƒå’Œ [2,1] åŒè¡Œã€‚
2. ç§»é™¤çŸ³å¤´ [2,1] ï¼Œå› ä¸ºå®ƒå’Œ [0,1] åŒåˆ—ã€‚
3. ç§»é™¤çŸ³å¤´ [1,2] ï¼Œå› ä¸ºå®ƒå’Œ [1,0] åŒè¡Œã€‚
4. ç§»é™¤çŸ³å¤´ [1,0] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒåˆ—ã€‚
5. ç§»é™¤çŸ³å¤´ [0,1] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒè¡Œã€‚
çŸ³å¤´ [0,0] ä¸èƒ½ç§»é™¤ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä¸å¦ä¸€å—çŸ³å¤´åŒè¡Œ/åˆ—ã€‚</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>stones = [[0,0],[0,2],[1,1],[2,0],[2,2]]
<strong>è¾“å‡ºï¼š</strong>3
<strong>è§£é‡Šï¼š</strong>ä¸€ç§ç§»é™¤ 3 å—çŸ³å¤´çš„æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š
1. ç§»é™¤çŸ³å¤´ [2,2] ï¼Œå› ä¸ºå®ƒå’Œ [2,0] åŒè¡Œã€‚
2. ç§»é™¤çŸ³å¤´ [2,0] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒåˆ—ã€‚
3. ç§»é™¤çŸ³å¤´ [0,2] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒè¡Œã€‚
çŸ³å¤´ [0,0] å’Œ [1,1] ä¸èƒ½ç§»é™¤ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ä¸å¦ä¸€å—çŸ³å¤´åŒè¡Œ/åˆ—ã€‚</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>stones = [[0,0]]
<strong>è¾“å‡ºï¼š</strong>0
<strong>è§£é‡Šï¼š</strong>[0,0] æ˜¯å¹³é¢ä¸Šå”¯ä¸€ä¸€å—çŸ³å¤´ï¼Œæ‰€ä»¥ä¸å¯ä»¥ç§»é™¤å®ƒã€‚</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 <= stones.length <= 1000</code></li>
	<li><code>0 <= x<sub>i</sub>, y<sub>i</sub> <= 10<sup>4</sup></code></li>
	<li>ä¸ä¼šæœ‰ä¸¤å—çŸ³å¤´æ”¾åœ¨åŒä¸€ä¸ªåæ ‡ç‚¹ä¸Š</li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## å®˜æ–¹é¢˜è§£
### ğŸ“º è§†é¢‘è®²è§£ 

>åŠ›æ‰£å›æ¸©é¦¨å°è´´å£«ï¼šè§‰å¾—è§†é¢‘æ—¶é—´é•¿çš„æ‰£å‹ï¼Œå¯ä»¥åœ¨è§†é¢‘å³ä¸‹è§’çš„ã€Œè®¾ç½®ã€æŒ‰é’®å¤„é€‰æ‹© 1.5 å€é€Ÿæˆ–è€… 2 å€é€Ÿè§‚çœ‹ã€‚

![...ç§»é™¤æœ€å¤šçš„åŒè¡Œæˆ–åŒåˆ—çŸ³å¤´ (1).mp4](99502bc2-5af6-4613-8f41-9b45c97ff335)

### ğŸ“– æ–‡å­—è§£æ

æŠŠäºŒç»´åæ ‡å¹³é¢ä¸Šçš„çŸ³å¤´æƒ³è±¡æˆå›¾çš„é¡¶ç‚¹ï¼Œå¦‚æœä¸¤ä¸ªçŸ³å¤´æ¨ªåæ ‡ç›¸åŒã€æˆ–è€…çºµåæ ‡ç›¸åŒï¼Œåœ¨å®ƒä»¬ä¹‹é—´å½¢æˆä¸€æ¡è¾¹ã€‚

![image.png](../images/most-stones-removed-with-same-row-or-column-0.png)

æ ¹æ®å¯ä»¥ç§»é™¤çŸ³å¤´çš„è§„åˆ™ï¼šå¦‚æœä¸€å—çŸ³å¤´çš„ **åŒè¡Œæˆ–è€…åŒåˆ—** ä¸Šæœ‰å…¶ä»–çŸ³å¤´å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç§»é™¤è¿™å—çŸ³å¤´ã€‚å¯ä»¥å‘ç°ï¼š**ä¸€å®šå¯ä»¥æŠŠä¸€ä¸ªè¿é€šå›¾é‡Œçš„æ‰€æœ‰é¡¶ç‚¹æ ¹æ®è¿™ä¸ªè§„åˆ™åˆ åˆ°åªå‰©ä¸‹ä¸€ä¸ªé¡¶ç‚¹**ã€‚

ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿæ—¢ç„¶è¿™äº›é¡¶ç‚¹åœ¨ä¸€ä¸ªè¿é€šå›¾é‡Œï¼Œå¯ä»¥é€šè¿‡éå†çš„æ–¹å¼ï¼ˆæ·±åº¦ä¼˜å…ˆéå†æˆ–è€…å¹¿åº¦ä¼˜å…ˆéå†ï¼‰éå†åˆ°è¿™ä¸ªè¿é€šå›¾çš„æ‰€æœ‰é¡¶ç‚¹ã€‚é‚£ä¹ˆå°±å¯ä»¥æŒ‰ç…§éå†çš„æ–¹å¼ **é€†å‘** ç§»é™¤çŸ³å¤´ï¼Œæœ€ååªå‰©ä¸‹ä¸€å—çŸ³å¤´ã€‚æ‰€ä»¥ï¼š**æœ€å¤šå¯ä»¥ç§»é™¤çš„çŸ³å¤´çš„ä¸ªæ•° = æ‰€æœ‰çŸ³å¤´çš„ä¸ªæ•° - è¿é€šåˆ†é‡çš„ä¸ªæ•°**ã€‚

é¢˜ç›®æ²¡æœ‰è®©æˆ‘ä»¬ç»™å‡ºå…·ä½“ç§»é™¤çŸ³å¤´çš„æ–¹æ¡ˆï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¹¶æŸ¥é›†ã€‚

### æ–¹æ³•ï¼šå¹¶æŸ¥é›†

åˆ åˆ°æœ€åï¼Œç•™åœ¨å›¾ä¸­çš„é¡¶ç‚¹ä¸€å®šä½äºä¸åŒçš„è¡Œå’Œä¸åŒçš„åˆ—ã€‚å› æ­¤ï¼Œå¹¶æŸ¥é›†é‡Œçš„å…ƒç´ æ˜¯ **æè¿°ã€Œæ¨ªåæ ‡ã€å’Œã€Œçºµåæ ‡ã€çš„æ•°å€¼**ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦éå†æ•°ç»„ `stones`ï¼Œå°†æ¯ä¸ª `stone` çš„æ¨ªåæ ‡å’Œçºµåæ ‡åœ¨å¹¶æŸ¥é›†ä¸­è¿›è¡Œåˆå¹¶ã€‚ç†è§£åˆå¹¶çš„è¯­ä¹‰ååˆ†é‡è¦ã€‚

#### ã€Œåˆå¹¶ã€çš„è¯­ä¹‰

ã€Œåˆå¹¶ã€çš„è¯­ä¹‰æ˜¯ï¼šæ‰€æœ‰æ¨ªåæ ‡ä¸º `x` çš„çŸ³å¤´å’Œæ‰€æœ‰çºµåæ ‡ä¸º `y` çš„çŸ³å¤´éƒ½å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ã€‚

#### å¹¶æŸ¥é›†é‡Œå¦‚ä½•åŒºåˆ†æ¨ªçºµåæ ‡

ç„¶è€Œä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šçŸ³å¤´çš„ä½ç½®æ˜¯ã€Œæœ‰åºæ•°å¯¹ï¼ˆäºŒç»´ï¼‰ã€ï¼Œå¹¶æŸ¥é›†çš„åº•å±‚æ˜¯ã€Œä¸€ç»´æ•°ç»„ã€ï¼Œæˆ‘ä»¬åœ¨å¹¶æŸ¥é›†é‡Œåº”è¯¥å¦‚ä½•åŒºåˆ†æ¨ªçºµåæ ‡å‘¢ï¼Ÿ

ä¾‹å¦‚ï¼šå¦‚æœä¸€å—çŸ³å¤´çš„åæ ‡ä¸º `[3, 3]` ï¼Œé‚£ä¹ˆæ‰€æœ‰æ¨ªåæ ‡ä¸º `3` çš„çŸ³å¤´å’Œæ‰€æœ‰çºµåæ ‡ä¸º `3` çš„çŸ³å¤´éƒ½åœ¨ä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦åœ¨å¹¶æŸ¥é›†é‡ŒåŒºåˆ†ã€Œæ¨ªåæ ‡ã€å’Œã€Œçºµåæ ‡ã€ï¼Œå®ƒä»¬åœ¨å¹¶æŸ¥é›†é‡Œä¸èƒ½ç›¸ç­‰ï¼Œæ ¹æ®é¢˜ç›®çš„æç¤º $0 <= x_i, y_i <= 10^4$ï¼Œå¯ä»¥æŠŠå…¶ä¸­ä¸€ä¸ªåæ ‡ **æ˜ å°„** åˆ°å¦ä¸€ä¸ªä¸ `[0, 10000]` ä¸é‡åˆçš„åŒºé—´ï¼Œå¯ä»¥çš„åšæ³•æ˜¯æŠŠæ¨ªåæ ‡å…¨éƒ¨å‡å» $10001$ æˆ–è€…å…¨éƒ¨åŠ ä¸Š $10001$ï¼Œæˆ–è€…æŒ‰ä½å–åï¼ˆ`[0, 10000]` é‡Œçš„ $32$ ä½æ•´æ•°ï¼Œæœ€é«˜ä½å˜æˆ $1$ ä»¥åï¼Œä¸€å®šä¸åœ¨ `[0, 10000]` é‡Œï¼‰ã€‚

åœ¨å¹¶æŸ¥é›†é‡Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤è¿é€šåˆ†é‡çš„ä¸ªæ•°ï¼Œæ–°åˆ›å»ºé¡¶ç‚¹çš„æ—¶å€™è¿é€šåˆ†é‡åŠ  $1$ï¼›åˆå¹¶ä¸åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡ä¸­çš„ä¸¤ä¸ªå¹¶æŸ¥é›†çš„æ—¶å€™ï¼Œè¿é€šåˆ†é‡å‡ $1$ã€‚

**å‚è€ƒä»£ç **ï¼š



```Java []
import java.util.HashMap;
import java.util.Map;

public class Solution {

    public int removeStones(int[][] stones) {
        UnionFind unionFind = new UnionFind();

        for (int[] stone : stones) {
            // ä¸‹é¢è¿™ä¸‰ç§å†™æ³•ä»»é€‰å…¶ä¸€
            // unionFind.union(~stone[0], stone[1]);
            // unionFind.union(stone[0] - 10001, stone[1]);
            unionFind.union(stone[0] + 10001, stone[1]);
        }
        return stones.length - unionFind.getCount();
    }

    private class UnionFind {

        private Map<Integer, Integer> parent;
        private int count;

        public UnionFind() {
            this.parent = new HashMap<>();
            this.count = 0;
        }

        public int getCount() {
            return count;
        }

        public int find(int x) {
            if (!parent.containsKey(x)) {
                parent.put(x, x);
                // å¹¶æŸ¥é›†é›†ä¸­æ–°åŠ å…¥ä¸€ä¸ªç»“ç‚¹ï¼Œç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹æ˜¯å®ƒè‡ªå·±ï¼Œæ‰€ä»¥è¿é€šåˆ†é‡çš„æ€»æ•° +1
                count++;
            }

            if (x != parent.get(x)) {
                parent.put(x, find(parent.get(x)));
            }
            return parent.get(x);
        }

        public void union(int x, int y) {
            int rootX = find(x);
            int rootY = find(y);
            if (rootX == rootY) {
                return;
            }

            parent.put(rootX, rootY);
            // ä¸¤ä¸ªè¿é€šåˆ†é‡åˆå¹¶æˆä¸ºä¸€ä¸ªï¼Œè¿é€šåˆ†é‡çš„æ€»æ•° -1
            count--;
        }
    }
}
```


**å¤æ‚åº¦åˆ†æ**ï¼š


- æ—¶é—´å¤æ‚åº¦ï¼š$O(n \log(A))$ï¼Œå…¶ä¸­ $n$ ä¸ºçŸ³å­çš„æ•°é‡ï¼Œ$A$ æ˜¯æ•°ç»„ `stones` é‡Œæ¨ªçºµåæ ‡ä¸åŒå€¼çš„æ€»æ•°ï¼›
- ç©ºé—´å¤æ‚åº¦ï¼š$O(A)$ï¼Œå¹¶æŸ¥é›†çš„åº•å±‚å“ˆå¸Œè¡¨çš„é•¿åº¦ä¸º $A$ã€‚



## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    26569    |    43390    |   61.2%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

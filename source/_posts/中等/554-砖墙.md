---
title: 554-ç –å¢™(Brick Wall)
categories:
  - ä¸­ç­‰
tags:
  - æ•°ç»„
  - å“ˆå¸Œè¡¨
abbrlink: 1634252442
date: 2021-12-03 22:42:38
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/brick-wall


## è‹±æ–‡åŸæ–‡
<div><p>There is a rectangular brick wall in front of you with <code>n</code> rows of bricks. The <code>i<sup>th</sup></code> row has some number of bricks each of the same height (i.e., one unit) but they can be of different widths. The total width of each row is the same.</p>

<p>Draw a vertical line from the top to the bottom and cross the least bricks. If your line goes through the edge of a brick, then the brick is not considered as crossed. You cannot draw a line just along one of the two vertical edges of the wall, in which case the line will obviously cross no bricks.</p>

<p>Given the 2D array <code>wall</code> that contains the information about the wall, return <em>the minimum number of crossed bricks after drawing such a vertical line</em>.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2021/04/24/cutwall-grid.jpg" style="width: 493px; height: 577px;" />
<pre>
<strong>Input:</strong> wall = [[1,2,2,1],[3,1,2],[1,3,2],[2,4],[3,1,2],[1,3,1,1]]
<strong>Output:</strong> 2
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> wall = [[1],[1],[1]]
<strong>Output:</strong> 3
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>n == wall.length</code></li>
	<li><code>1 &lt;= n &lt;= 10<sup>4</sup></code></li>
	<li><code>1 &lt;= wall[i].length &lt;= 10<sup>4</sup></code></li>
	<li><code>1 &lt;= sum(wall[i].length) &lt;= 2 * 10<sup>4</sup></code></li>
	<li><code>sum(wall[i])</code> is the same for each row <code>i</code>.</li>
	<li><code>1 &lt;= wall[i][j] &lt;= 2<sup>31</sup> - 1</code></li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ä½ çš„é¢å‰æœ‰ä¸€å µçŸ©å½¢çš„ã€ç”± <code>n</code> è¡Œç –å—ç»„æˆçš„ç –å¢™ã€‚è¿™äº›ç –å—é«˜åº¦ç›¸åŒï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªå•ä½é«˜ï¼‰ä½†æ˜¯å®½åº¦ä¸åŒã€‚æ¯ä¸€è¡Œç –å—çš„å®½åº¦ä¹‹å’Œç›¸ç­‰ã€‚</p>

<p>ä½ ç°åœ¨è¦ç”»ä¸€æ¡ <strong>è‡ªé¡¶å‘ä¸‹ </strong>çš„ã€ç©¿è¿‡ <strong>æœ€å°‘ </strong>ç –å—çš„å‚çº¿ã€‚å¦‚æœä½ ç”»çš„çº¿åªæ˜¯ä»ç –å—çš„è¾¹ç¼˜ç»è¿‡ï¼Œå°±ä¸ç®—ç©¿è¿‡è¿™å—ç –ã€‚<strong>ä½ ä¸èƒ½æ²¿ç€å¢™çš„ä¸¤ä¸ªå‚ç›´è¾¹ç¼˜ä¹‹ä¸€ç”»çº¿ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯æ²¡æœ‰ç©¿è¿‡ä¸€å—ç –çš„ã€‚</strong></p>

<p>ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>wall</code> ï¼Œè¯¥æ•°ç»„åŒ…å«è¿™å µå¢™çš„ç›¸å…³ä¿¡æ¯ã€‚å…¶ä¸­ï¼Œ<code>wall[i]</code> æ˜¯ä¸€ä¸ªä»£è¡¨ä»å·¦è‡³å³æ¯å—ç –çš„å®½åº¦çš„æ•°ç»„ã€‚ä½ éœ€è¦æ‰¾å‡ºæ€æ ·ç”»æ‰èƒ½ä½¿è¿™æ¡çº¿ <strong>ç©¿è¿‡çš„ç –å—æ•°é‡æœ€å°‘</strong> ï¼Œå¹¶ä¸”è¿”å› <strong>ç©¿è¿‡çš„ç –å—æ•°é‡</strong> ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<img alt="" src="https://assets.leetcode.com/uploads/2021/04/24/cutwall-grid.jpg" style="width: 493px; height: 577px;" />
<pre>
<strong>è¾“å…¥ï¼š</strong>wall = [[1,2,2,1],[3,1,2],[1,3,2],[2,4],[3,1,2],[1,3,1,1]]
<strong>è¾“å‡ºï¼š</strong>2
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>wall = [[1],[1],[1]]
<strong>è¾“å‡ºï¼š</strong>3
</pre>
Â 

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>n == wall.length</code></li>
	<li><code>1 <= n <= 10<sup>4</sup></code></li>
	<li><code>1 <= wall[i].length <= 10<sup>4</sup></code></li>
	<li><code>1 <= sum(wall[i].length) <= 2 * 10<sup>4</sup></code></li>
	<li>å¯¹äºæ¯ä¸€è¡Œ <code>i</code> ï¼Œ<code>sum(wall[i])</code> æ˜¯ç›¸åŒçš„</li>
	<li><code>1 <= wall[i][j] <= 2<sup>31</sup> - 1</code></li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
## å“ˆå¸Œè¡¨

é¢˜ç›®è¦æ±‚ç©¿è¿‡çš„ç –å—æ•°é‡æœ€å°‘ï¼Œç­‰æ•ˆäºé€šè¿‡çš„é—´éš™æœ€å¤šã€‚

**æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€Œå“ˆå¸Œè¡¨ã€è®°å½•æ¯ä¸ªé—´éš™çš„å‡ºç°æ¬¡æ•°ï¼Œæœ€ç»ˆç»Ÿè®¡æ‰€æœ‰è¡Œä¸­å“ªäº›é—´éš™å‡ºç°å¾—æœ€å¤šï¼Œä½¿ç”¨ã€Œæ€»è¡Œæ•°ã€å‡å»ã€Œé—´éš™å‡ºç°çš„æœ€å¤šæ¬¡æ•°ã€å³æ˜¯ç­”æ¡ˆã€‚**

å¦‚ä½•è®°å½•é—´éš™å‘¢ï¼Ÿç›´æ¥ä½¿ç”¨è¡Œå‰ç¼€è®°å½•å³å¯ã€‚

å°±ç”¨ç¤ºä¾‹æ•°æ®æ¥ä¸¾ ğŸŒ° ï¼š

![image.png](../images/brick-wall-0.png)

* ç¬¬ 1 è¡Œçš„é—´éš™æœ‰ `[1,3,5]`
* ç¬¬ 2 è¡Œçš„é—´éš™æœ‰ `[3,4]`
* ç¬¬ 3 è¡Œçš„é—´éš™æœ‰ `[1,4]`
* ç¬¬ 4 è¡Œçš„é—´éš™æœ‰ `[2]`
* ç¬¬ 5 è¡Œçš„é—´éš™æœ‰ `[3,4]`
* ç¬¬ 6 è¡Œçš„é—´éš™æœ‰ `[1,4,5]`

å¯¹é—´éš™è®¡æ•°å®Œæˆåï¼Œéå†ã€Œå“ˆå¸Œè¡¨ã€æ‰¾å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šé—´éš™ `4`ï¼Œæ ¹æ®åŒä¸€ä¸ªé—´éš™ç¼–å·åªä¼šåœ¨å•è¡Œå†…è¢«ç»Ÿè®¡ä¸€æ¬¡ï¼Œç”¨æ€»è¡Œæ•°å‡å»å‡ºç°æ¬¡æ•°ï¼Œå³å¾—åˆ°ã€Œæœ€å°‘ç©¿è¿‡çš„ç –å—æ•°ã€ã€‚

**ä»£ç ï¼ˆæ„Ÿè°¢ [@nactran](/u/pleviumtan/) åŒå­¦æä¾›çš„å…¶ä»–è¯­è¨€ç‰ˆæœ¬ï¼‰ï¼š**
```Java []
class Solution {
    public int leastBricks(List<List<Integer>> wall) {
        int n = wall.size();
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0, sum = 0; i < n; i++, sum = 0) {
            for (int cur : wall.get(i)) {
                sum += cur;
                map.put(sum, map.getOrDefault(sum, 0) + 1);
            }
            map.remove(sum); // ä¸èƒ½ä»ä¸¤è¾¹ç©¿è¿‡ï¼Œéœ€è¦ remove æ‰æœ€åä¸€ä¸ª
        }
        int ans = n;
        for (int u : map.keySet()) {
            int cnt = map.get(u);
            ans = Math.min(ans, n - cnt);
        }
        return ans;
    }
}
```
```C++ []
class Solution {
public:
    int leastBricks(vector<vector<int>>& wall) {
        int n = wall.size();
        unordered_map<int,int> map;
        for (int i = 0, sum = 0; i < n; i++, sum = 0) {
            for (int cur : wall[i]) {
                sum += cur;
                map[sum]++;
            }
            map.erase(sum); // ä¸èƒ½ä»ä¸¤è¾¹ç©¿è¿‡ï¼Œéœ€è¦ remove æ‰æœ€åä¸€ä¸ª
        }
        int ans = n;
        for (auto& [u,cnt] : map) {
            ans = min(ans, n - cnt);
        }
        return ans;
    }
};
```
* æ—¶é—´å¤æ‚åº¦ï¼šè®°æ‰€æœ‰ç –å—æ•°é‡ä¸º `n`ï¼Œæ‰€æœ‰ç –å—éƒ½ä¼šè¢«æ‰«æã€‚å¤æ‚åº¦ä¸º $O(n)$
* ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

***

## å…³äºæ˜¯å¦éœ€è¦è€ƒè™‘ã€Œæº¢å‡ºã€çš„è¯´æ˜

ç±»ä¼¼çš„é—®é¢˜ï¼Œåœ¨ä¹‹å‰ [é¢˜è§£](https://leetcode-cn.com/problems/combination-sum-iv/solution/gong-shui-san-xie-yu-wan-quan-bei-bao-we-x0kn/) ä¹Ÿè¯´è¿‡ï¼Œè¿™é‡Œå†æä¸€ä¸‹ ~ 

**å½“ Java å‘ç”Ÿæº¢å‡ºæ—¶ï¼Œä¼šç›´æ¥è½¬æˆè´Ÿæ•°æ¥å¤„ç†**ã€‚å› æ­¤å¯¹äºæœ¬é¢˜ä¸ä¼šå½±å“æ­£ç¡®æ€§ï¼ˆä¸é‡å¤æº¢å‡ºçš„è¯ï¼‰ã€‚

å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¾‹å­æ¥ä½“ä¼šï¼š

```Java []
{
    System.out.println(Integer.MIN_VALUE); // -2147483648
    
    int a = Integer.MAX_VALUE;
    System.out.println(a); // 2147483647
    a += 1;
    System.out.println(a); // -2147483648
    a -= 1;
    System.out.println(a); //2147483647
}
```

è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿ç®—è¿‡ç¨‹ä¸­å¦‚æœåªæ¶‰åŠã€Œçº¯åŠ å‡è¿ç®—ã€ï¼Œè€Œä¸æ¶‰åŠã€Œä¹˜é™¤ã€ã€ã€Œå–æœ€å¤§å€¼/æœ€å°å€¼ã€å’Œã€Œæ•°å€¼å¤§å°åˆ¤æ–­ã€çš„è¯ï¼ŒJava æ˜¯ä¸éœ€è¦ä½¿ç”¨ `Long` æ¥ç¡®ä¿æ­£ç¡®æ€§çš„ï¼Œå› ä¸ºæœ€ç»ˆæº¢å‡ºä¼šè¢«è½¬åŒ–å›æ¥ã€‚

æŒ‰é“ç†ï¼ŒCPP æœ¬èº«å¯¹äº `int` æº¢å‡ºçš„è½¬åŒ–å¤„ç†ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚

**ä½†åœ¨ LC ä¸Šçš„ CPP å‘ç”Ÿæº¢å‡ºæ—¶ï¼Œä¸ä¼šç›´æ¥è½¬æˆè´Ÿæ•°æ¥å¤„ç†ï¼Œè€Œæ˜¯ç›´æ¥æŠ›å‡ºå¼‚å¸¸**ã€‚å› æ­¤åŒæ ·çš„ä»£ç åœ¨ LC ä¸Šæ˜¯æ— æ³•è¢«æ­£å¸¸æ‰§è¡Œçš„ï¼š

```C++ []
{
    cout << INT_MIN << endl; //-2147483648

    int a = INT_MAX; 
    cout << a << endl; // 2147483647
    a += 1; // æº¢å‡ºæŠ¥é”™
    cout << a << endl;
    a -= 1;
    cout << a << endl;
}
```

**è¿™æ˜¯ä¸€èˆ¬æ€§çš„ï¼Œå¯¹äº LC ä¸Šçš„åŒä¸€é“é¢˜ï¼ŒJava ä¸éœ€è¦å¤„ç†æº¢å‡ºï¼ŒCPP éœ€è¦å¤„ç†çš„åŸå› ã€‚**

***
å…¶å®å¯¹åº”åˆ°æœ¬é¢˜ï¼Œæˆ‘è¿™é‡Œä¸ä½¿ç”¨ long longï¼Œæ˜¯å› ä¸ºçŒœæƒ³ã€Œé¢˜ç›®ã€ä¸­çš„æ¡ä»¶å†™é”™äº†ï¼š

```Java 
1 <= sum(wall[i]) <= 2 * 10^4

é”™å†™æˆäº†

1 <= sum(wall[i].length) <= 2 * 10^4
```

å› ä¸ºåœ¨ç»™å®šä¸‹é¢ä¸¤ä¸ªæ¡ä»¶çš„æƒ…å†µä¸‹ï¼š

```
1 <= n <= 10^4
1 <= wall[i].length <= 10^4
```

$1 <= sum(wall[i].length) <= 2 * 10^4$ ååˆ†å¤šä½™ã€‚

é’ˆå¯¹åä¾‹ï¼š
```Java
[
    [2147483647,2147483647,2147483647,2147483647,1,2], 
    [2,2147483647,2147483647,2147483647,2147483647,1]
]
```

æˆ‘ç”¨å®˜æ–¹æä¾›çš„ä»£ç ï¼Œè·‘çš„ä¹Ÿæ˜¯ 0ï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä»¥å®˜æ–¹çš„ä»£ç ä¸ºè¯„æµ‹æ ‡å‡†çš„è¯ï¼Œç”¨ long long åè€Œæ˜¯ WA äº† ğŸ¤£


***

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png) å’Œ åŠ å…¥æˆ‘ä»¬çš„[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ 


## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    46914    |    93132    |   50.4%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

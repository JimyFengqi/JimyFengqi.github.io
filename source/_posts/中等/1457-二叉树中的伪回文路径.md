---
title: 1457-äºŒå‰æ ‘ä¸­çš„ä¼ªå›æ–‡è·¯å¾„(Pseudo-Palindromic Paths in a Binary Tree)
date: 2021-12-03 22:08:52
categories:
  - ä¸­ç­‰
tags:
  - ä½è¿ç®—
  - æ ‘
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - äºŒå‰æ ‘
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/pseudo-palindromic-paths-in-a-binary-tree


## è‹±æ–‡åŸæ–‡
<div><p>Given a binary tree where node values are digits from 1 to 9. A path in the binary tree is said to be <strong>pseudo-palindromic</strong> if at least one permutation of the node values in the path is a palindrome.</p>

<p><em>Return the number of <strong>pseudo-palindromic</strong> paths going from the root node to leaf nodes.</em></p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<p><img alt="" src="https://assets.leetcode.com/uploads/2020/05/06/palindromic_paths_1.png" style="width: 300px; height: 201px;" /></p>

<pre>
<strong>Input:</strong> root = [2,3,1,3,1,null,1]
<strong>Output:</strong> 2 
<strong>Explanation:</strong> The figure above represents the given binary tree. There are three paths going from the root node to leaf nodes: the red path [2,3,3], the green path [2,1,1], and the path [2,3,1]. Among these paths only red path and green path are pseudo-palindromic paths since the red path [2,3,3] can be rearranged in [3,2,3] (palindrome) and the green path [2,1,1] can be rearranged in [1,2,1] (palindrome).
</pre>

<p><strong>Example 2:</strong></p>

<p><strong><img alt="" src="https://assets.leetcode.com/uploads/2020/05/07/palindromic_paths_2.png" style="width: 300px; height: 314px;" /></strong></p>

<pre>
<strong>Input:</strong> root = [2,1,1,1,3,null,null,null,null,null,1]
<strong>Output:</strong> 1 
<strong>Explanation:</strong> The figure above represents the given binary tree. There are three paths going from the root node to leaf nodes: the green path [2,1,1], the path [2,1,3,1], and the path [2,1]. Among these paths only the green path is pseudo-palindromic since [2,1,1] can be rearranged in [1,2,1] (palindrome).
</pre>

<p><strong>Example 3:</strong></p>

<pre>
<strong>Input:</strong> root = [9]
<strong>Output:</strong> 1
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li>The number of nodes in the tree is in the range <code>[1, 10<sup>5</sup>]</code>.</li>
	<li><code>1 &lt;= Node.val &lt;= 9</code></li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä¸º 1 åˆ° 9 ã€‚æˆ‘ä»¬ç§°äºŒå‰æ ‘ä¸­çš„ä¸€æ¡è·¯å¾„æ˜¯ ã€Œ<strong>ä¼ªå›æ–‡</strong>ã€çš„ï¼Œå½“å®ƒæ»¡è¶³ï¼šè·¯å¾„ç»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹å€¼çš„æ’åˆ—ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªå›æ–‡åºåˆ—ã€‚</p>

<p>è¯·ä½ è¿”å›ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­&nbsp;<strong>ä¼ªå›æ–‡&nbsp;</strong>è·¯å¾„çš„æ•°ç›®ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/05/23/palindromic_paths_1.png" style="height: 201px; width: 300px;"></p>

<pre><strong>è¾“å…¥ï¼š</strong>root = [2,3,1,3,1,null,1]
<strong>è¾“å‡ºï¼š</strong>2 
<strong>è§£é‡Šï¼š</strong>ä¸Šå›¾ä¸ºç»™å®šçš„äºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šçº¢è‰²è·¯å¾„ [2,3,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å’Œè·¯å¾„ [2,3,1] ã€‚
     åœ¨è¿™äº›è·¯å¾„ä¸­ï¼Œåªæœ‰çº¢è‰²å’Œç»¿è‰²çš„è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸ºçº¢è‰²è·¯å¾„ [2,3,3] å­˜åœ¨å›æ–‡æ’åˆ— [3,2,3] ï¼Œç»¿è‰²è·¯å¾„ [2,1,1] å­˜åœ¨å›æ–‡æ’åˆ— [1,2,1] ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<p><strong><img alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/05/23/palindromic_paths_2.png" style="height: 314px; width: 300px;"></strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>root = [2,1,1,1,3,null,null,null,null,null,1]
<strong>è¾“å‡ºï¼š</strong>1 
<strong>è§£é‡Šï¼š</strong>ä¸Šå›¾ä¸ºç»™å®šäºŒå‰æ ‘ã€‚æ€»å…±æœ‰ 3 æ¡ä»æ ¹åˆ°å¶å­çš„è·¯å¾„ï¼šç»¿è‰²è·¯å¾„ [2,1,1] ï¼Œè·¯å¾„ [2,1,3,1] å’Œè·¯å¾„ [2,1] ã€‚
     è¿™äº›è·¯å¾„ä¸­åªæœ‰ç»¿è‰²è·¯å¾„æ˜¯ä¼ªå›æ–‡è·¯å¾„ï¼Œå› ä¸º [2,1,1] å­˜åœ¨å›æ–‡æ’åˆ— [1,2,1] ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>root = [9]
<strong>è¾“å‡ºï¼š</strong>1
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li>ç»™å®šäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ç›®åœ¨&nbsp;<code>1</code>&nbsp;åˆ°&nbsp;<code>10^5</code>&nbsp;ä¹‹é—´ã€‚</li>
	<li>èŠ‚ç‚¹å€¼åœ¨&nbsp;<code>1</code> åˆ°&nbsp;<code>9</code>&nbsp;ä¹‹é—´ã€‚</li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
* çŸ¥è¯†ç‚¹ï¼šæ·±åº¦ä¼˜å…ˆéå†
* æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼›n ä¸ºæ ‘ä¸­ç»“ç‚¹æ•°é‡ã€‚

å¦‚æœé›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æŸç§æ’åˆ—æ˜¯å›æ–‡ä¸²ï¼Œé‚£ä¹ˆé›†åˆä¸­**æœ€å¤šæœ‰ä¸€ç§å…ƒç´ å‡ºç°äº†å¥‡æ•°æ¬¡**ã€‚
é‚£ä¹ˆé¢˜ç›®å°±å˜æˆäº†ç»Ÿè®¡æ‰€æœ‰æ ¹èŠ‚ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯å¾„ä¸­ï¼Œç¬¦åˆä¸Šè¿°ç‰¹ç‚¹çš„è·¯å¾„æ•°é‡ã€‚
å¯ä»¥ä½¿ç”¨DFSå®Œæˆä¸Šè¿°ç»Ÿè®¡ï¼Œåœ¨DFSè¿‡ç¨‹ä¸­ä½¿ç”¨ä¸€ä¸ªè®¡æ•°å™¨ç»Ÿè®¡æ ¹èŠ‚ç‚¹åˆ°å½“å‰æ ˆé¡¶ç»“ç‚¹çš„è·¯å¾„ä¸­æ¯ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°ï¼š
* å½“ä¸€ä¸ªæ–°èŠ‚ç‚¹æ”¾åˆ°æ ˆé¡¶æ—¶ï¼Œæ›´æ–°è®¡æ•°å™¨ã€‚
* å½“ä¸€ä¸ªç»“ç‚¹ä»æ ˆä¸­å¼¹å‡ºæ—¶ï¼Œæ›´æ–°è®¡æ•°å™¨ã€‚
* ç‰¹åˆ«çš„ï¼Œå½“æ–°èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹æ—¶ï¼Œæ£€æŸ¥è®¡æ•°å™¨å¹¶æ›´æ–°ç­”æ¡ˆã€‚
![](../images/pseudo-palindromic-paths-in-a-binary-tree-0.gif)
è®¡æ•°å™¨å¯ä»¥ç”¨ std::map, std::unordered_map å®ç°ã€‚é‰´äºå…ƒç´ å–å€¼èŒƒå›´ä¸º [0,9]ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„å®ç°ã€‚

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    int check(int *cnt) {
        int odd = 0;
        for(int i = 0; i <= 9; i++) {
            if(cnt[i]&1) {
                odd++;
            }
        }
        if(odd <= 1) {
            return 1;
        }
        return 0;
    }
    int dfs(TreeNode *root, int *cnt) {
        if(root == nullptr) {
            return 0;
        }
        cnt[root->val] ++;
        if(root->left == nullptr && root->right == nullptr) {
            int anw = check(cnt);
            cnt[root->val]--;
            return anw;
        }
        int anw = 0;
        if(root->left != nullptr) {
            anw += dfs(root->left, cnt);
        }
        if(root->right != nullptr) {
            anw += dfs(root->right, cnt);
        }
        cnt[root->val] --;
        return anw;
    }
    int pseudoPalindromicPaths (TreeNode* root) {
        int cnt[10] = {0};
        return dfs(root, cnt);
    }
};
```
# å¦‚æœæ„Ÿè§‰æœ‰ç‚¹æ„æ€ï¼Œå¯ä»¥å…³æ³¨ğŸ‘[HelloNebula](../images/pseudo-palindromic-paths-in-a-binary-tree-1.jpg)ğŸ‘
* **åˆ†äº«å‘¨èµ›é¢˜è§£**
* **åˆ†äº«è®¡ç®—æœºä¸“ä¸šè¯¾çŸ¥è¯†**
* **åˆ†äº«C++ç›¸å…³å²—ä½é¢è¯•é¢˜**
* **åˆ†äº«ä¸“ä¸šä¹¦ç±PDF**

## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    8264    |    13121    |   63.0%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

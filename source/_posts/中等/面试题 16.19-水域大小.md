---
title: é¢è¯•é¢˜ 16.19-æ°´åŸŸå¤§å°(Pond Sizes LCCI)
date: 2021-12-03 21:36:00
categories:
  - ä¸­ç­‰
tags:
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å¹¶æŸ¥é›†
  - æ•°ç»„
  - çŸ©é˜µ
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/pond-sizes-lcci


## è‹±æ–‡åŸæ–‡
<div><p>You have an integer matrix representing a plot of land, where the value at that loca&shy;tion represents the height above sea level. A value of zero indicates water. A pond is a region of water connected vertically, horizontally, or diagonally. The size of the pond is the total number of connected water cells. Write a method to compute the sizes of all ponds in the matrix.</p>

<p><strong>Example: </strong></p>

<pre>
<strong>Input: </strong>
[
  [0,2,1,0],
  [0,1,0,1],
  [1,1,0,1],
  [0,1,0,1]
]
<strong>Output: </strong> [1,2,4]
</pre>

<p><strong>Note: </strong></p>

<ul>
	<li><code>0 &lt; len(land) &lt;= 1000</code></li>
	<li><code>0 &lt; len(land[i]) &lt;= 1000</code></li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ä½ æœ‰ä¸€ä¸ªç”¨äºè¡¨ç¤ºä¸€ç‰‡åœŸåœ°çš„æ•´æ•°çŸ©é˜µ<code>land</code>ï¼Œè¯¥çŸ©é˜µä¸­æ¯ä¸ªç‚¹çš„å€¼ä»£è¡¨å¯¹åº”åœ°ç‚¹çš„æµ·æ‹”é«˜åº¦ã€‚è‹¥å€¼ä¸º0åˆ™è¡¨ç¤ºæ°´åŸŸã€‚ç”±å‚ç›´ã€æ°´å¹³æˆ–å¯¹è§’è¿æ¥çš„æ°´åŸŸä¸ºæ± å¡˜ã€‚æ± å¡˜çš„å¤§å°æ˜¯æŒ‡ç›¸è¿æ¥çš„æ°´åŸŸçš„ä¸ªæ•°ã€‚ç¼–å†™ä¸€ä¸ªæ–¹æ³•æ¥è®¡ç®—çŸ©é˜µä¸­æ‰€æœ‰æ± å¡˜çš„å¤§å°ï¼Œè¿”å›å€¼éœ€è¦ä»å°åˆ°å¤§æ’åºã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><strong>è¾“å…¥ï¼š</strong>
[
  [0,2,1,0],
  [0,1,0,1],
  [1,1,0,1],
  [0,1,0,1]
]
<strong>è¾“å‡ºï¼š</strong> [1,2,4]
</pre>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>0 < len(land) <= 1000</code></li>
<li><code>0 < len(land[i]) <= 1000</code></li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
![leetcode.png](../images/pond-sizes-lcci-0.png)
â²é˜…è¯»å¤§çº¦éœ€è¦ 6min

## ğŸ”‘è§£é¢˜æ€è·¯
ä¾æ—§æ˜¯ BFS æ¨¡æ¿é¢˜ã€‚
è¿™ä¸€æ¬¡æ€»ç»“ä¸€ä¸‹ BFS çš„å‡ ä¸ªä¸»è¦æ­¥éª¤
1. è‚¯å®šä¼šç”¨åˆ° deque çš„ç»“æ„ç”¨æ¥æ¨¡æ‹Ÿé˜Ÿåˆ—ï¼ŒBFSç²¾é«“ä¹Ÿåœ¨è¿™é‡Œã€‚
2. é˜Ÿåˆ—é‡Œè‚¯å®šæ˜¯æœ‰ä¸€ä¸ªåˆå§‹ç‚¹
3. ç„¶åæ¯æ¬¡å¤„ç†ä»é˜Ÿåˆ—ä¸­å‡ºé˜Ÿä¸€ä¸ªå…ƒç´ 
4. å¯¹å…ƒç´ è¿›è¡Œæ‰©å¼ (å…·ä½“å¦‚ä½•æ‰©å¼ éœ€è¦æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œä¸€èˆ¬æ˜¯ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ï¼Œæœ¬é¢˜æ˜¯ç®—ä¸Šæ–œå‘å…±8ä¸ªæ–¹å‘)
5. å¯¹äºæ‰©å¼ åæ»¡è¶³æŸæ¡ä»¶çš„ç‚¹å†è¿›è¡Œå¤„ç†ï¼Œæ ¹æ®éœ€è¦è¿›å…¥é˜Ÿåˆ—ï¼Œè¿›å…¥é˜Ÿåˆ—çš„ç‚¹å°±æ˜¯æ‰©åˆ°ä¸‹ä¸€å±‚çš„ç‚¹(ä¸åŒé¢˜ç›®éœ€è¦å¤„ç†çš„æ–¹æ³•ä¸åŒï¼Œå¤§å®¶çµæ´»è¿ç”¨)
6. ç„¶åæ¥ç€å¾ªç¯å¤„ç† deque ä¸­çš„å…ƒç´ ï¼Œç›´åˆ° deque ä¸ºç©ºï¼Œåˆ™ä»£è¡¨æ‰€æœ‰ç‚¹éƒ½å·²ç»å®Œæˆæ‰©å¼ 
7. æœ€åæ ¹æ®é¢˜ç›®è¦æ±‚è¾“å‡ºç»“æœ(å½“ç„¶è¿™å·²ç»ä¸å±äº BFS æ¨¡æ¿çš„èŒƒå›´äº†)

æ‰€æœ‰ BFS çš„æ¨¡æ¿é¢˜éƒ½å¤§è‡´æ˜¯è¿™ä¸ªæ€è·¯ï¼Œåªä¸è¿‡æ˜¯å¯èƒ½æœ‰å°çš„å˜å½¢ã€‚
æœ€é‡è¦çš„è¿˜æ˜¯è¦åŸ¹å…»è‡ªå·±è¾¨è¯†æŸé¢˜æ˜¯ BFS çš„èƒ½åŠ›å’Œæ•æ„Ÿåº¦ï¼Œè¿˜æœ‰å°±æ˜¯è¦æ˜ç¡®è¦ä»é‚£äº›ç‚¹å¼€å§‹æ‰©å¼ ï¼Œææ¸…æ¥šè¿™ä¸¤ç‚¹å†åŠ ä¸Š BFS æ¨¡æ¿ï¼Œè¿™ç±»é¢˜å°±é—®é¢˜ä¸å¤§äº†ã€‚

## ğŸ”¶ç±»ä¼¼é¢˜ç›®
ä¸‹é¢ 3 é¢˜æ˜¯æœ€è¿‘æ¯æ—¥ä¸€é¢˜ä¸­å‡ºç°çš„ BFS æ¨¡æ¿é¢˜ï¼Œè¿˜ä¸å¤ªç†Ÿæ‚‰ BFS çš„å°ä¼™ä¼´å¯ä»¥çœ‹ä¸€ä¸‹å¾€æœŸçš„è§†é¢‘å’Œæ–‡å­—é¢˜è§£

[542 01çŸ©é˜µ](https://leetcode-cn.com/problems/01-matrix/)
[542 01çŸ©é˜µæ–‡å­—é¢˜è§£](https://leetcode-cn.com/problems/01-matrix/solution/xiong-mao-shua-ti-python3-bfsmo-ban-ti-yi-dong-by-/)

[1162 åœ°å›¾åˆ†æ](https://leetcode-cn.com/problems/as-far-from-land-as-possible/) 
[1162 åœ°å›¾åˆ†æçš„è§†é¢‘è®²è§£](https://www.bilibili.com/video/BV1Pp4y1C7Hd/)

[é¢è¯•é¢˜13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´](https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/)
[é¢è¯•é¢˜13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´çš„è§†é¢‘é¢˜è§£](https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/solution/xiong-mao-shua-ti-python3-bfsjing-dian-mo-ban-yi-k/)

## ğŸ¼ä»£ç éƒ¨åˆ†
```python3
class Solution:
    def pondSizes(self, land: List[List[int]]) -> List[int]:
        res = []
        for row in range(len(land)):
            for col in range(len(land[0])):
                if land[row][col] == 0:
                    tmp = collections.deque()
                    tmp_count = 1
                    land[row][col] = -1  # å°†è®¿é—®çš„ç‚¹æ ‡è®°è¿›è¡Œæ ‡è®°
                    tmp.append([row, col])
                    while len(tmp) > 0:
                        x, y = tmp.popleft()
                        # æ³¨æ„é¢˜ç›®è¦æ±‚ï¼Œæ–œå‘ä¹Ÿè¦ç®—ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯ 8 ä¸ªæ–¹å‘
                        for new_x, new_y in [[x + 1, y], [x - 1, y], [x, y + 1], [x, y - 1],
                                             [x - 1, y - 1], [x - 1, y + 1], [x + 1, y + 1], [x + 1, y - 1]]:
                            if 0 <= new_x < len(land) and 0 <= new_y < len(land[0]) and land[new_x][new_y] == 0:
                                tmp_count += 1
                                land[new_x][new_y] = -1
                                tmp.append([new_x, new_y])
                    res.append(tmp_count)
        return sorted(res)
```

**å¦‚æœä½ å–œæ¬¢è¿™æ¡é¢˜è§£çš„è¯ï¼Œæ¬¢è¿ç‚¹èµ**ğŸ‘ğŸ‘ğŸ‘ 

ä¹‹å‰çš„ä¸€äº›**æ–‡å­—ç‰ˆé¢˜è§£**å’Œ**è§†é¢‘ç‰ˆé¢˜è§£**ä¹Ÿå¯ä»¥åœ¨ä¸‹é¢çš„é“¾æ¥ä¸­æ‰¾åˆ°ï¼Œæ¬¢è¿å…³æ³¨ï¼
- æ–‡å­—ç‰ˆé¢˜è§£ï¼š[ã€è²å­ç†ŠçŒ«_åŠ›æ‰£ä¸»é¡µã€‘](https://leetcode-cn.com/u/lotuspanda/)
- è§†é¢‘ç‰ˆé¢˜è§£ï¼š[ã€ç†ŠçŒ«åˆ·é¢˜_bç«™ã€‘](https://space.bilibili.com/21823823/channel/detail?cid=111007) [ã€ç†ŠçŒ«åˆ·é¢˜_æ²¹ç®¡ã€‘](https://www.youtube.com/channel/UCSlyDEALkpPSlU21DLzuRYA/playlists?view_as=subscriber)

æœ€åï¼Œæ¬¢è¿åŠ å…¥[@fuxuemingzhu](/u/fuxuemingzhu/)å¤§ä½¬åˆ›å»ºçš„**æ¯æ—¥ä¸€é¢˜æ‰“å¡ç½‘ç«™**ï¼†**å¾®ä¿¡æ‰“å¡ç¾¤**ï¼Œä½ å°†æ”¶è·ï¼š
- ä¸€ç¾¤å¿—åŒé“åˆçš„å°ä¼™ä¼´ï¼šä¸ **500**+ ä½ä¼˜ç§€çš„å°ä¼™ä¼´ç£ä¿ƒæ‰“å¡ï¼Œæ”¶è·æ–°çŸ¥ï¼Œå…±åŒè¿›æ­¥
- å’Œåˆ·é¢˜å¤§ä½¬ä»¬ä¸€èµ·ç©è€ï¼š**è´Ÿé›ªæ˜çƒ›**@[fuxuemingzhu](/u/fuxuemingzhu/)ã€**weiå“¥**@[liweiwei1419](/u/liweiwei1419/)ã€**ç”œå§¨**@[sweetiee](/u/sweetiee/)éƒ½åœ¨ç¾¤é‡Œ

å°±å·®ä½ äº†ï¼Œèµ¶å¿«åŠ å…¥ï¼Œä¸€èµ·æ¥ç©è€å§ï¼ğŸ‘‰[https://ojeveryday.com/](https://ojeveryday.com/)

## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    21081    |    34354    |   61.4%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

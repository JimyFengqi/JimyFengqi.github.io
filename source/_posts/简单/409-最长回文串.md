---
title: 409-æœ€é•¿å›æ–‡ä¸²(Longest Palindrome)
categories:
  - ç®€å•
tags:
  - è´ªå¿ƒ
  - å“ˆå¸Œè¡¨
  - å­—ç¬¦ä¸²
abbrlink: 3884477079
date: 2021-12-03 22:48:23
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/longest-palindrome


## è‹±æ–‡åŸæ–‡
<div><p>Given a string <code>s</code> which consists of lowercase or uppercase letters, return <em>the length of the <strong>longest palindrome</strong></em>&nbsp;that can be built with those letters.</p>

<p>Letters are <strong>case sensitive</strong>, for example,&nbsp;<code>&quot;Aa&quot;</code> is not considered a palindrome here.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> s = &quot;abccccdd&quot;
<strong>Output:</strong> 7
<strong>Explanation:</strong>
One longest palindrome that can be built is &quot;dccaccd&quot;, whose length is 7.
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> s = &quot;a&quot;
<strong>Output:</strong> 1
</pre>

<p><strong>Example 3:</strong></p>

<pre>
<strong>Input:</strong> s = &quot;bb&quot;
<strong>Output:</strong> 2
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>1 &lt;= s.length &lt;= 2000</code></li>
	<li><code>s</code> consists of lowercase <strong>and/or</strong> uppercase English&nbsp;letters only.</li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ç»™å®šä¸€ä¸ªåŒ…å«å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°é€šè¿‡è¿™äº›å­—æ¯æ„é€ æˆçš„æœ€é•¿çš„å›æ–‡ä¸²ã€‚</p>

<p>åœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œè¯·æ³¨æ„åŒºåˆ†å¤§å°å†™ã€‚æ¯”å¦‚&nbsp;<code>&quot;Aa&quot;</code>&nbsp;ä¸èƒ½å½“åšä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚</p>

<p><strong>æ³¨æ„:</strong><br />
å‡è®¾å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 1010ã€‚</p>

<p><strong>ç¤ºä¾‹ 1: </strong></p>

<pre>
è¾“å…¥:
&quot;abccccdd&quot;

è¾“å‡º:
7

è§£é‡Š:
æˆ‘ä»¬å¯ä»¥æ„é€ çš„æœ€é•¿çš„å›æ–‡ä¸²æ˜¯&quot;dccaccd&quot;, å®ƒçš„é•¿åº¦æ˜¯ 7ã€‚
</pre>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£

**UPDATE: ç±³å¨œæ¡‘ä¸‹åˆå¥½ï½ï½ åˆšåˆšæˆ‘åœ¨å…¬ä¼—å·ã€[ç”œå§¨çš„å¥‡å¦™å†’é™©](../images/longest-palindrome-0.jpeg)ã€‘æ›´æ–°äº†æœ¬é¢˜æ›´è¯¦ç»†çš„é¢˜è§£ï¼Œå¾ˆå¤šå°tipsç­‰ä½ æ¥å–å—·ï½ï½ï¼Œæ¬¢è¿å¤§å®¶å›´è§‚**â¤ï¸




-----s

ğŸ™‹ä»Šæ—¥æ‰“å¡~å› ä¸ºå†™äº†2ç§é£æ ¼çš„ä»£ç æ‰€ä»¥æ…¢äº†ç‚¹~
è¿™é¢˜å…¶å®æ˜¯æ„é€ æ€§çš„é¢˜ç›®ï¼Œæ‰€ä»¥åªéœ€è¦å°½å¯èƒ½çš„å·¦å³å¯¹ç§°åœ°æ„é€ å­—ç¬¦ä¸²å°±è¡Œäº†ï¼Œæ‰€ä»¥å›æ–‡ä¸²é‡Œæ¯ç§å­—ç¬¦éƒ½å‡ºç°äº†å¶æ•°æ¬¡ï¼Œé™¤äº†å¥‡æ•°é•¿åº¦çš„å›æ–‡ä¸²çš„æ—¶å€™æœ€ä¸­é—´çš„é‚£ä¸ªå­—ç¬¦å¯ä»¥å‡ºç°å¥‡æ•°æ¬¡ã€‚
æ¯”å¦‚å›æ–‡ä¸² abbaï¼Œæ¯ä¸ªå­—ç¬¦éƒ½å‡ºç°äº†å¶æ•°æ¬¡ã€‚è€Œå¥‡æ•°é•¿åº¦çš„å›æ–‡ä¸²abcbcbcbaï¼Œcå‡ºç°äº†å¥‡æ•°æ¬¡ã€‚

å…ˆæ˜¯åˆ©ç”¨intæ•°ç»„è®¡æ•°çš„æ–¹æ³•ï¼š

```java
class Solution {
    public int longestPalindrome(String s) {
      int[] cnt = new int[58];
      for (char c : s.toCharArray()) {
        cnt[c - 'A'] += 1;
      }

      int ans = 0;
      for (int x: cnt) {
        // å­—ç¬¦å‡ºç°çš„æ¬¡æ•°æœ€å¤šç”¨å¶æ•°æ¬¡ã€‚
        ans += x - (x & 1);
      }
      // å¦‚æœæœ€ç»ˆçš„é•¿åº¦å°äºåŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¯´æ˜é‡Œé¢æŸä¸ªå­—ç¬¦å‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œé‚£ä¹ˆé‚£ä¸ªå­—ç¬¦å¯ä»¥æ”¾åœ¨å›æ–‡ä¸²çš„ä¸­é—´ï¼Œæ‰€ä»¥é¢å¤–å†åŠ ä¸€ã€‚
      return ans < s.length() ? ans + 1 : ans;  
    }
}
```

ç„¶åå¯ä»¥ç”¨Java8çš„æµå¼é£æ ¼æ¥å†™ï¼Œå¥½åƒæ˜¯åœ¨å°æ•°æ®é›†ä¸Šç”¨streamä¼šæ¯”è¾ƒæ…¢ï¼Œè¿™æ ·å†™çš„è€—æ—¶ä¼šé•¿ä¸€ç‚¹ã€‚
å¯ä»¥å­¦ä¹ ä¸‹streamçš„å†™æ³•~

```java
class Solution {
    public int longestPalindrome(String s) {
      Map<Integer, Integer> count = s.chars().boxed()
            .collect(Collectors.toMap(k -> k, v -> 1, Integer::sum));

      int ans = count.values().stream().mapToInt(i -> i - (i & 1)).sum();
      return ans < s.length() ? ans + 1 : ans;
    }
}
```



## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    101145    |    181856    |   55.6%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |


## ç›¸ä¼¼é¢˜ç›®
|                             é¢˜ç›®                             | éš¾åº¦ |
| :----------------------------------------------------------: | :---------: |
| [å›æ–‡æ’åˆ—](https://leetcode-cn.com/problems/palindrome-permutation/) | ç®€å•|

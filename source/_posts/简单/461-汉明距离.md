---
title: 461-æ±‰æ˜è·ç¦»(Hamming Distance)
date: 2021-12-03 22:45:07
categories:
  - ç®€å•
tags:
  - ä½è¿ç®—
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/hamming-distance


## è‹±æ–‡åŸæ–‡
<div><p>The <a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank">Hamming distance</a> between two integers is the number of positions at which the corresponding bits are different.</p>

<p>Given two integers <code>x</code> and <code>y</code>, return <em>the <strong>Hamming distance</strong> between them</em>.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> x = 1, y = 4
<strong>Output:</strong> 2
<strong>Explanation:</strong>
1   (0 0 0 1)
4   (0 1 0 0)
       &uarr;   &uarr;
The above arrows point to positions where the corresponding bits are different.
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> x = 3, y = 1
<strong>Output:</strong> 1
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>0 &lt;=&nbsp;x, y &lt;= 2<sup>31</sup> - 1</code></li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„ <a href="https://baike.baidu.com/item/%E6%B1%89%E6%98%8E%E8%B7%9D%E7%A6%BB">æ±‰æ˜è·ç¦»</a> æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®çš„æ•°ç›®ã€‚</p>

<p>ç»™ä½ ä¸¤ä¸ªæ•´æ•° <code>x</code> å’Œ <code>y</code>ï¼Œè®¡ç®—å¹¶è¿”å›å®ƒä»¬ä¹‹é—´çš„æ±‰æ˜è·ç¦»ã€‚</p>

<p>Â </p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>x = 1, y = 4
<strong>è¾“å‡ºï¼š</strong>2
<strong>è§£é‡Šï¼š</strong>
1   (0 0 0 1)
4   (0 1 0 0)
       â†‘   â†‘
ä¸Šé¢çš„ç®­å¤´æŒ‡å‡ºäº†å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre>
<strong>è¾“å…¥ï¼š</strong>x = 3, y = 1
<strong>è¾“å‡ºï¼š</strong>1
</pre>

<p>Â </p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>0 <=Â x, y <= 2<sup>31</sup> - 1</code></li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
#### å‰è¨€

æ±‰æ˜è·ç¦»å¹¿æ³›åº”ç”¨äºå¤šä¸ªé¢†åŸŸã€‚åœ¨ç¼–ç ç†è®ºä¸­ç”¨äºé”™è¯¯æ£€æµ‹ï¼Œåœ¨ä¿¡æ¯è®ºä¸­é‡åŒ–å­—ç¬¦ä¸²ä¹‹é—´çš„å·®å¼‚ã€‚

ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯å¯¹åº”ä½ç½®ä¸Šæ•°å­—ä¸åŒçš„ä½æ•°ã€‚

æ ¹æ®ä»¥ä¸Šå®šä¹‰ï¼Œæˆ‘ä»¬ä½¿ç”¨å¼‚æˆ–è¿ç®—ï¼Œè®°ä¸º $\oplus$ï¼Œå½“ä¸”ä»…å½“è¾“å…¥ä½ä¸åŒæ—¶è¾“å‡ºä¸º $1$ã€‚

![fig1](https://assets.leetcode-cn.com/solution-static/461/1.png){:width="80%"}

è®¡ç®— $x$ å’Œ $y$ ä¹‹é—´çš„æ±‰æ˜è·ç¦»ï¼Œå¯ä»¥å…ˆè®¡ç®— $x \oplus y$ï¼Œç„¶åç»Ÿè®¡ç»“æœä¸­ç­‰äº $1$ çš„ä½æ•°ã€‚

ç°åœ¨ï¼ŒåŸå§‹é—®é¢˜è½¬æ¢ä¸ºä½è®¡æ•°é—®é¢˜ã€‚ä½è®¡æ•°æœ‰å¤šç§æ€è·¯ï¼Œå°†åœ¨ä¸‹é¢çš„æ–¹æ³•ä¸­ä»‹ç»ã€‚

#### æ–¹æ³•ä¸€ï¼šå†…ç½®ä½è®¡æ•°åŠŸèƒ½

**æ€è·¯åŠç®—æ³•**

å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½å†…ç½®äº†è®¡ç®—äºŒè¿›åˆ¶è¡¨è¾¾ä¸­ $1$ çš„æ•°é‡çš„å‡½æ•°ã€‚åœ¨å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥ç›´æ¥ä½¿ç”¨å†…ç½®å‡½æ•°ã€‚

**ä»£ç **

```C++ [sol1-C++]
class Solution {
public:
    int hammingDistance(int x, int y) {
        return __builtin_popcount(x ^ y);
    }
};
```

```Java [sol1-Java]
class Solution {
    public int hammingDistance(int x, int y) {
        return Integer.bitCount(x ^ y);
    }
}
```

```go [sol1-Golang]
func hammingDistance(x, y int) int {
    return bits.OnesCount(uint(x ^ y))
}
```

```C [sol1-C]
int hammingDistance(int x, int y) {
    return __builtin_popcount(x ^ y);
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(1)$ã€‚ä¸åŒè¯­è¨€çš„å®ç°æ–¹æ³•ä¸ä¸€ï¼Œæˆ‘ä»¬å¯ä»¥è¿‘ä¼¼è®¤ä¸ºå…¶æ—¶é—´å¤æ‚åº¦ä¸º $O(1)$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚

#### æ–¹æ³•äºŒï¼šç§»ä½å®ç°ä½è®¡æ•°

**æ€è·¯åŠç®—æ³•**

åœ¨é”»ç‚¼ç®—æ³•èƒ½åŠ›æ—¶ï¼Œé‡å¤é€ è½®å­æ˜¯ä¸å¯é¿å…çš„ï¼Œä¹Ÿæ˜¯åº”å½“çš„ã€‚å› æ­¤è¯»è€…ä»¬ä¹Ÿéœ€è¦å°è¯•ä½¿ç”¨å„ç§æ–¹æ³•è‡ªå·±å®ç°å‡ ä¸ªå…·æœ‰ä½è®¡æ•°åŠŸèƒ½çš„å‡½æ•°ã€‚æœ¬æ–¹æ³•å°†ä½¿ç”¨ä½è¿ç®—ä¸­ç§»ä½çš„æ“ä½œå®ç°ä½è®¡æ•°åŠŸèƒ½ã€‚

![fig2](https://assets.leetcode-cn.com/solution-static/461/2.png)

å…·ä½“åœ°ï¼Œè®° $s = x \oplus y$ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ–­åœ°æ£€æŸ¥ $s$ çš„æœ€ä½ä½ï¼Œå¦‚æœæœ€ä½ä½ä¸º $1$ï¼Œé‚£ä¹ˆä»¤è®¡æ•°å™¨åŠ ä¸€ï¼Œç„¶åæˆ‘ä»¬ä»¤ $s$ æ•´ä½“å³ç§»ä¸€ä½ï¼Œè¿™æ · $s$ çš„æœ€ä½ä½å°†è¢«èˆå»ï¼ŒåŸæœ¬çš„æ¬¡ä½ä½å°±å˜æˆäº†æ–°çš„æœ€ä½ä½ã€‚æˆ‘ä»¬é‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ° $s=0$ ä¸ºæ­¢ã€‚è¿™æ ·è®¡æ•°å™¨ä¸­å°±ç´¯è®¡äº† $s$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ $1$ çš„æ•°é‡ã€‚

**ä»£ç **

```C++ [sol2-C++]
class Solution {
public:
    int hammingDistance(int x, int y) {
        int s = x ^ y, ret = 0;
        while (s) {
            ret += s & 1;
            s >>= 1;
        }
        return ret;
    }
};
```

```Java [sol2-Java]
class Solution {
    public int hammingDistance(int x, int y) {
        int s = x ^ y, ret = 0;
        while (s != 0) {
            ret += s & 1;
            s >>= 1;
        }
        return ret;
    }
}
```

```C# [sol2-C#]
public class Solution {
    public int HammingDistance(int x, int y) {
        int s = x ^ y, ret = 0;
        while (s != 0) {
            ret += s & 1;
            s >>= 1;
        }
        return ret;
    }
}
```

```JavaScript [sol2-JavaScript]
var hammingDistance = function(x, y) {
    let s = x ^ y, ret = 0;
    while (s != 0) {
        ret += s & 1;
        s >>= 1;
    }
    return ret;
};
```

```go [sol2-Golang]
func hammingDistance(x, y int) (ans int) {
    for s := x ^ y; s > 0; s >>= 1 {
        ans += s & 1
    }
    return
}
```

```C [sol2-C]
int hammingDistance(int x, int y) {
    int s = x ^ y, ret = 0;
    while (s) {
        ret += s & 1;
        s >>= 1;
    }
    return ret;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(\log C)$ï¼Œå…¶ä¸­ $C$ æ˜¯å…ƒç´ çš„æ•°æ®èŒƒå›´ï¼Œåœ¨æœ¬é¢˜ä¸­ $\log C=\log 2^{31} = 31$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚

#### æ–¹æ³•ä¸‰ï¼š$\text{Brian Kernighan}$ ç®—æ³•

**æ€è·¯åŠç®—æ³•**

åœ¨æ–¹æ³•äºŒä¸­ï¼Œå¯¹äº $s=(10001100)_2$ çš„æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦å¾ªç¯å³ç§» $8$ æ¬¡æ‰èƒ½å¾—åˆ°ç­”æ¡ˆã€‚è€Œå®é™…ä¸Šå¦‚æœæˆ‘ä»¬å¯ä»¥è·³è¿‡ä¸¤ä¸ª $1$ ä¹‹é—´çš„ $0$ï¼Œç›´æ¥å¯¹ $1$ è¿›è¡Œè®¡æ•°ï¼Œé‚£ä¹ˆå°±åªéœ€è¦å¾ªç¯ $3$ æ¬¡å³å¯ã€‚

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ $\text{Brian Kernighan}$ ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œå…·ä½“åœ°ï¼Œè¯¥ç®—æ³•å¯ä»¥è¢«æè¿°ä¸ºè¿™æ ·ä¸€ä¸ªç»“è®ºï¼šè®° $f(x)$ è¡¨ç¤º $x$ å’Œ $x-1$ è¿›è¡Œä¸è¿ç®—æ‰€å¾—çš„ç»“æœï¼ˆå³ $f(x)=x~\&~(x-1)$ï¼‰ï¼Œé‚£ä¹ˆ $f(x)$ æ°ä¸º $x$ åˆ å»å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€å³ä¾§çš„ $1$ çš„ç»“æœã€‚

![fig3](https://assets.leetcode-cn.com/solution-static/461/3.png)

åŸºäºè¯¥ç®—æ³•ï¼Œå½“æˆ‘ä»¬è®¡ç®—å‡º $s = x \oplus y$ï¼Œåªéœ€è¦ä¸æ–­è®© $s = f(s)$ï¼Œç›´åˆ° $s=0$ å³å¯ã€‚è¿™æ ·æ¯å¾ªç¯ä¸€æ¬¡ï¼Œ$s$ éƒ½ä¼šåˆ å»å…¶äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€å³ä¾§çš„ $1$ï¼Œæœ€ç»ˆå¾ªç¯çš„æ¬¡æ•°å³ä¸º $s$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ $1$ çš„æ•°é‡ã€‚

**æ³¨æ„**

$\text{Brian Kernighan}$ ç®—æ³•å‘å¸ƒåœ¨ $1988$ å¹´å‡ºç‰ˆçš„ $\text{The C Programming Language (Second Edition)}$ çš„ç»ƒä¹ ä¸­ï¼ˆç”± $\text{Brian W. Kernighan}$ å’Œ $\text{Dennis M. Ritchie}$ ç¼–å†™ï¼‰ï¼Œä½†æ˜¯ $\text{Donald Knuth}$ åœ¨ $2006$ å¹´ $4$ æœˆ $19$ æ—¥æŒ‡å‡ºï¼Œè¯¥æ–¹æ³•ç¬¬ä¸€æ¬¡æ˜¯ç”± $\text{Peter Wegner}$ åœ¨ $1960$ å¹´çš„ $\text{CACM3}$ ä¸Šå‡ºç‰ˆã€‚å¯ä»¥åœ¨ä¸Šè¿°ä¹¦ç±ä¸­æ‰¾åˆ°æ›´å¤šä½æ“ä½œçš„æŠ€å·§ã€‚

**ä»£ç **

```C++ [sol3-C++]
class Solution {
public:
    int hammingDistance(int x, int y) {
        int s = x ^ y, ret = 0;
        while (s) {
            s &= s - 1;
            ret++;
        }
        return ret;
    }
};
```

```Java [sol3-Java]
class Solution {
    public int hammingDistance(int x, int y) {
        int s = x ^ y, ret = 0;
        while (s != 0) {
            s &= s - 1;
            ret++;
        }
        return ret;
    }
}
```

```C# [sol3-C#]
public class Solution {
    public int HammingDistance(int x, int y) {
        int s = x ^ y, ret = 0;
        while (s != 0) {
            s &= s - 1;
            ret++;
        }
        return ret;
    }
}
```

```JavaScript [sol3-JavaScript]
var hammingDistance = function(x, y) {
    let s = x ^ y, ret = 0;
    while (s != 0) {
        s &= s - 1;
        ret++;
    }
    return ret;
};
```

```go [sol3-Golang]
func hammingDistance(x, y int) (ans int) {
    for s := x ^ y; s > 0; s &= s - 1 {
        ans++
    }
    return
}
```

```C [sol3-C]
int hammingDistance(int x, int y) {
    int s = x ^ y, ret = 0;
    while (s) {
        s &= s - 1;
        ret++;
    }
    return ret;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š$O(\log C)$ï¼Œå…¶ä¸­ $C$ æ˜¯å…ƒç´ çš„æ•°æ®èŒƒå›´ï¼Œåœ¨æœ¬é¢˜ä¸­ $\log C=\log 2^{31} = 31$ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚

---
## âœ¨æ‰£å‹å¸®å¸®å›¢ - äº’åŠ¨ç­”ç–‘

[![è®¨è®º.jpg](../images/hamming-distance-0.jpg){:width=260px}](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)


å³æ—¥èµ· - 5 æœˆ 30 æ—¥ï¼Œç‚¹å‡»Â [è¿™é‡Œ](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)Â å‰å¾€ã€Œ[æ‰£å‹å¸®å¸®å›¢](https://leetcode-cn.com/topic/kou-you-bang-bang-tuan/discuss/latest/)ã€æ´»åŠ¨é¡µï¼ŒæŠŠä½ é‡åˆ°çš„é—®é¢˜å¤§èƒ†åœ°æå‡ºæ¥ï¼Œè®©æ‰£å‹ä¸ºä½ è§£ç­”ï½

### ğŸ å¥–åŠ±è§„åˆ™
è¢«é‡‡çº³æ•°é‡æ’å 1ï½3 åï¼šã€ŒåŠ›æ‰£æå®¢å¥—è£…ã€ *1 å¹¶å°†è·å¾—ã€ŒåŠ›æ‰£ç¥ç§˜åº”æ´å›¢ã€å†…æµ‹èµ„æ ¼
è¢«é‡‡çº³æ•°é‡æ’å 4ï½10 åï¼šã€ŒåŠ›æ‰£é¼ æ ‡å«ã€ *1 å¹¶å°†è·å¾—ã€ŒåŠ›æ‰£ç¥ç§˜åº”æ´å›¢ã€å†…æµ‹èµ„æ ¼
ã€Œè¯²äººä¸å€¦ã€ï¼šæ´»åŠ¨æœŸé—´ã€Œè§£æƒ‘è€…ã€åªè¦æœ‰ 1 ä¸ªå›ç­”è¢«é‡‡çº³ï¼Œå³å¯è·å¾— 20 LeetCoins å¥–åŠ±ï¼
ã€Œæ±‚çŸ¥è‹¥æ¸´ã€ï¼šæ´»åŠ¨æœŸé—´ã€Œæ±‚çŸ¥è€…ã€åœ¨æ´»åŠ¨é¡µå‘èµ·ä¸€æ¬¡ç¬¦åˆè¦æ±‚çš„ç–‘é—®å¸–å¹¶è‡³å°‘é‡‡çº³ä¸€æ¬¡ã€Œè§£æƒ‘è€…ã€çš„å›ç­”ï¼Œå³å¯è·å¾— 20 LeetCoins å¥–åŠ±ï¼

æ´»åŠ¨è¯¦æƒ…çŒ›æˆ³é“¾æ¥äº†è§£æ›´å¤šï¼š[ğŸ ä½ æœ‰ BUG æˆ‘æ¥å¸® - åŠ›æ‰£äº’åŠ¨ç­”ç–‘å­£](https://leetcode-cn.com/circle/discuss/xtliW6/)

## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    177581    |    218371    |   81.3%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |


## ç›¸ä¼¼é¢˜ç›®
|                             é¢˜ç›®                             | éš¾åº¦ |
| :----------------------------------------------------------: | :---------: |
| [ä½1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-1-bits/) | ç®€å•|
| [æ±‰æ˜è·ç¦»æ€»å’Œ](https://leetcode-cn.com/problems/total-hamming-distance/) | ä¸­ç­‰|

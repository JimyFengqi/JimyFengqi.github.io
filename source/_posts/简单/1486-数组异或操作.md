---
title: 1486-æ•°ç»„å¼‚æˆ–æ“ä½œ(XOR Operation in an Array)
categories:
  - ç®€å•
tags:
  - ä½è¿ç®—
  - æ•°å­¦
abbrlink: 1377032041
date: 2021-12-03 22:07:40
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/xor-operation-in-an-array


## è‹±æ–‡åŸæ–‡
<div><p>Given an integer <code>n</code> and an integer <code>start</code>.</p>

<p>Define an array <code>nums</code> where <code>nums[i] = start + 2*i</code> (0-indexed) and <code>n == nums.length</code>.</p>

<p>Return the bitwise&nbsp;XOR&nbsp;of all elements of <code>nums</code>.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> n = 5, start = 0
<strong>Output:</strong> 8
<strong>Explanation: </strong>Array nums is equal to [0, 2, 4, 6, 8] where (0 ^ 2 ^ 4 ^ 6 ^ 8) = 8.
Where &quot;^&quot; corresponds to bitwise XOR operator.
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> n = 4, start = 3
<strong>Output:</strong> 8
<strong>Explanation: </strong>Array nums is equal to [3, 5, 7, 9] where (3 ^ 5 ^ 7 ^ 9) = 8.</pre>

<p><strong>Example 3:</strong></p>

<pre>
<strong>Input:</strong> n = 1, start = 7
<strong>Output:</strong> 7
</pre>

<p><strong>Example 4:</strong></p>

<pre>
<strong>Input:</strong> n = 10, start = 5
<strong>Output:</strong> 2
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>1 &lt;= n &lt;= 1000</code></li>
	<li><code>0 &lt;= start &lt;= 1000</code></li>
	<li><code>n == nums.length</code></li>
</ul></div>

## ä¸­æ–‡é¢˜ç›®
<div><p>ç»™ä½ ä¸¤ä¸ªæ•´æ•°ï¼Œ<code>n</code> å’Œ <code>start</code> ã€‚</p>

<p>æ•°ç»„ <code>nums</code> å®šä¹‰ä¸ºï¼š<code>nums[i] = start + 2*i</code>ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ä¸” <code>n == nums.length</code> ã€‚</p>

<p>è¯·è¿”å› <code>nums</code> ä¸­æ‰€æœ‰å…ƒç´ æŒ‰ä½å¼‚æˆ–ï¼ˆ<strong>XOR</strong>ï¼‰åå¾—åˆ°çš„ç»“æœã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>n = 5, start = 0
<strong>è¾“å‡ºï¼š</strong>8
<strong>è§£é‡Šï¼š</strong>æ•°ç»„ nums ä¸º [0, 2, 4, 6, 8]ï¼Œå…¶ä¸­ (0 ^ 2 ^ 4 ^ 6 ^ 8) = 8 ã€‚
     &quot;^&quot; ä¸ºæŒ‰ä½å¼‚æˆ– XOR è¿ç®—ç¬¦ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>n = 4, start = 3
<strong>è¾“å‡ºï¼š</strong>8
<strong>è§£é‡Šï¼š</strong>æ•°ç»„ nums ä¸º [3, 5, 7, 9]ï¼Œå…¶ä¸­ (3 ^ 5 ^ 7 ^ 9) = 8.</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>n = 1, start = 7
<strong>è¾“å‡ºï¼š</strong>7
</pre>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>n = 10, start = 5
<strong>è¾“å‡ºï¼š</strong>2
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= n &lt;= 1000</code></li>
	<li><code>0 &lt;= start &lt;= 1000</code></li>
	<li><code>n == nums.length</code></li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
### å°æ˜å‘ç°å¥‡å¶æ€§
å°æ˜æ‹¿äº†åˆ°æ•°å­¦é¢˜ï¼Œè‹¦æ€æ— è§£ï¼Œäºæ˜¯ä»–åªå¥½ä»æ‰¾è§„å¾‹å¼€å§‹ï¼Œä»–ä¸åœçš„ä»£æ•°ç„¶åæ‰‹ç®—ï¼Œå¼€å§‹å‘ç°äº†å…¶å¥‡å¶æ€§çš„è§„å¾‹ï¼
`å¯¹äºå¶æ•°çš„start, æ— è®ºnä¸ºä½•å€¼ï¼Œç»“æœçš„æœ€åä¸€ä½(Least significant digit)éƒ½ä¸º0`
`å¯¹äºå¥‡æ•°çš„start, åªæœ‰å½“nä¸ºâ€œå¥‡æ•°â€æ—¶ï¼Œç»“æœçš„æœ€åä¸€ä½æ‰ä¸º1`
å› æ­¤ä»–æ€»ç»“ï¼š`åªæœ‰å½“n ä¸ start éƒ½ä¸ºå¥‡æ•°æ—¶ï¼Œç»“æœçš„æœ€åä¸€ä½æ‰ä¸º 1`
ä¸‹é¢æ˜¯ä»–å‘ç°å¥‡å¶æ€§çš„è‰ç¨¿
![3a6ab6803f9289979b9631d9b253b7b.png](../images/xor-operation-in-an-array-0.png)
**************************
### å°æ˜å‘ç°è¿ç®—è§„å¾‹
å°æ˜å¹¶æ²¡æœ‰å› ä¸ºå‘ç°å¥‡å¶æ€§è€Œå¾—æ„æ´‹æ´‹ï¼Œä»–ç»§ç»­è§£é¢˜ï¼Œä»–è§‰å¾—æ­¤é¢˜çš„`2`æ˜¯ä¸ªéº»çƒ¦ï¼Œå› æ­¤ä»–è¦æƒ³ä¸ªæ³•å­æŠŠè¿™ä¸ªçƒ¦äººçš„`2`ç»™å»æ‰ã€‚ç°åœ¨å®ƒçš„æ‰‹ä¸Šæœ‰è¿™æ ·çš„ä¸€ä¸²å…¬å¼:`(start)^(start+2)^(start+4)^(start+6)^...^(start+2(n-1))`
ä»–æœ›ç€è¿™ä¸²ä¸œè¥¿å¤´çš®å‘éº»ï¼Œä»–å‘ç°è¿™ä¸²ä¸œè¥¿é™¤ä»¥`2`åå…¶å®å¯ä»¥è½¬åŒ–ä¸ºæ›´ç®€å•çš„å¼å­ï¼š
`(s)^(s+1)^(s+2)^(s+3)^...^(s+(n-1))*2 + b0`ï¼Œ`s`å½“ç„¶ä¸º"$start\div2$"ï¼›
å…¶ä¸­çš„`b0`åˆšå¥½ä¸å°±æ˜¯å¥‡å¶æ€§ä¸­çš„æœ€åä¸€ä½æ¯”ç‰¹å€¼å—ï¼Ÿä»–å·²ç»çŸ¥é“å¦‚ä½•ç®—`b0`äº†ï¼
äºæ˜¯é—®é¢˜ç®€åŒ–æˆä¸ºäº†è®¡ç®—å…¶`(s)^(s+1)^(s+2)^(s+3)^...^(s+(n-1))`çš„å€¼ã€‚
é‚£æˆ‘ä»¬ç»§ç»­å·çœ‹ä¸€ä¸‹å°æ˜çš„å…¬å¼å§ï¼
```cpp
(s)^(s+1)^(s+2)^(s+3)^...^(s+(n-1)) = (1^2^3^...^(s-1)) ^ (1^2^3^...^(s+n-1))
ä¸¾ä¾‹ï¼š3^4^5^6^7^8^9 = (1^2)^(1^2^3^4^5^6^7^8^9)
```
**ç”±äºæˆ‘ä»¬æŠŠæœ€åä¸€ä½æå‡ºæ¥å•ç‹¬è®¨è®º(è¿ç®—)ï¼Œé‚£ä¹ˆè¿™ä¸ªæ­¥éª¤å…¶å®æ˜¯å°†æ‰€æœ‰çš„æ•°éƒ½å³ç§»ä¸€ä½è®¡ç®—å…¶
å¼‚æˆ–å€¼ï¼Œç„¶åå†å°†å…¶å¼‚æˆ–å€¼å·¦ç§»å›æ¥åŠ ä¸Šå…¶å•ç‹¬è®¨è®ºçš„æœ€åä¸€ä½çš„æ¯”ç‰¹å€¼ï¼é‡å¤è¯»å‡ éè¿™å¥è¯ï¼**
![59d45e157b7166ba2971dd783044a69.png](../images/xor-operation-in-an-array-1.png)
**é‚£ä¹ˆå°æ˜å¦‚ä½•è®¡ç®—çš„â€œ1^2^3^4^5â€å‘¢ï¼Ÿ**
***********************
### å°æ˜è®¡ç®—XORå€¼
å°æ˜ç»ˆäºèµ°åˆ°äº†æœ€åä¸€æ­¥ï¼Œåªè¦èƒ½æŠŠä¸Šé¢çš„è¿ç»­sequenceçš„å¼‚æˆ–å€¼è®¡ç®—å‡ºæ¥ï¼Œé‚£é—®é¢˜å°±è¿åˆƒè€Œè§£äº†ï¼
å¯¹äºè¿™ä¸€æ­¥ï¼Œæ€»ä¸èƒ½è¿˜ç”¨æš´åŠ›çš„æ–¹æ³•ä» 1 ä¸€ç›´ç®—åˆ° n å§ï¼Œé‚£ä»–ä¸ç™½æ¨å¯¼äº†è¿™ä¹ˆå¤šæ­¥éª¤å—ğŸ˜”
äºæ˜¯ä»–åˆå¼€å§‹äº†æšä¸¾ã€‚æˆ‘å·åˆ°äº†ä»–çš„å°æœ¬æœ¬againğŸ˜Š
![fdbb6c931b0ba02777ad94f84783d74.png](../images/xor-operation-in-an-array-2.png)
***********************
ç‚¹ä¸ªğŸ‘ä¸‹æ¬¡æˆ‘è¿˜å»å·ä»–çš„æœ¬æœ¬
***********************
### ä»£ç 
```cpp
class Solution {
public:
    int computeXOR(int n)
    {
        switch(n%4)
        {
            case 0: return n;
            case 1: return 1;
            case 2: return n + 1;
        }
        //case3
        return 0;
    }
    int xorOperation(int n, int start) {
        //æœ€ä½ä¸ºè¡¨ç¤ºä¸ºb0
        int b0 = n & start & 1;
        int s = start/2;
        int res = computeXOR(s-1)^computeXOR(s+n-1);
        return (res<<1) + b0;
    }
};
```

## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    71761    |    83596    |   85.8%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

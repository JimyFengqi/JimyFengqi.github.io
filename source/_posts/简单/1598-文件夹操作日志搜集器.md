---
title: 1598-æ–‡ä»¶å¤¹æ“ä½œæ—¥å¿—æœé›†å™¨(Crawler Log Folder)
date: 2021-12-03 22:04:12
categories:
  - ç®€å•
tags:
  - æ ˆ
  - æ•°ç»„
  - å­—ç¬¦ä¸²
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/crawler-log-folder


## è‹±æ–‡åŸæ–‡
<div><p>The Leetcode file system keeps a log each time some user performs a <em>change folder</em> operation.</p>

<p>The operations are described below:</p>

<ul>
	<li><code>&quot;../&quot;</code> : Move to the parent folder of the current folder. (If you are already in the main folder, <strong>remain in the same folder</strong>).</li>
	<li><code>&quot;./&quot;</code> : Remain in the same folder.</li>
	<li><code>&quot;x/&quot;</code> : Move to the child folder named <code>x</code> (This folder is <strong>guaranteed to always exist</strong>).</li>
</ul>

<p>You are given a list of strings <code>logs</code> where <code>logs[i]</code> is the operation performed by the user at the <code>i<sup>th</sup></code> step.</p>

<p>The file system starts in the main folder, then the operations in <code>logs</code> are performed.</p>

<p>Return <em>the minimum number of operations needed to go back to the main folder after the change folder operations.</em></p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<p><img alt="" src="https://assets.leetcode.com/uploads/2020/09/09/sample_11_1957.png" style="width: 775px; height: 151px;" /></p>

<pre>
<strong>Input:</strong> logs = [&quot;d1/&quot;,&quot;d2/&quot;,&quot;../&quot;,&quot;d21/&quot;,&quot;./&quot;]
<strong>Output:</strong> 2
<strong>Explanation: </strong>Use this change folder operation &quot;../&quot; 2 times and go back to the main folder.
</pre>

<p><strong>Example 2:</strong></p>

<p><img alt="" src="https://assets.leetcode.com/uploads/2020/09/09/sample_22_1957.png" style="width: 600px; height: 270px;" /></p>

<pre>
<strong>Input:</strong> logs = [&quot;d1/&quot;,&quot;d2/&quot;,&quot;./&quot;,&quot;d3/&quot;,&quot;../&quot;,&quot;d31/&quot;]
<strong>Output:</strong> 3
</pre>

<p><strong>Example 3:</strong></p>

<pre>
<strong>Input:</strong> logs = [&quot;d1/&quot;,&quot;../&quot;,&quot;../&quot;,&quot;../&quot;]
<strong>Output:</strong> 0
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>1 &lt;= logs.length &lt;= 10<sup>3</sup></code></li>
	<li><code>2 &lt;= logs[i].length &lt;= 10</code></li>
	<li><code>logs[i]</code> contains lowercase English letters, digits, <code>&#39;.&#39;</code>, and <code>&#39;/&#39;</code>.</li>
	<li><code>logs[i]</code> follows the format described in the statement.</li>
	<li>Folder names consist of lowercase English letters and digits.</li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>æ¯å½“ç”¨æˆ·æ‰§è¡Œå˜æ›´æ–‡ä»¶å¤¹æ“ä½œæ—¶ï¼ŒLeetCode æ–‡ä»¶ç³»ç»Ÿéƒ½ä¼šä¿å­˜ä¸€æ¡æ—¥å¿—è®°å½•ã€‚</p>

<p>ä¸‹é¢ç»™å‡ºå¯¹å˜æ›´æ“ä½œçš„è¯´æ˜ï¼š</p>

<ul>
	<li><code>&quot;../&quot;</code> ï¼šç§»åŠ¨åˆ°å½“å‰æ–‡ä»¶å¤¹çš„çˆ¶æ–‡ä»¶å¤¹ã€‚å¦‚æœå·²ç»åœ¨ä¸»æ–‡ä»¶å¤¹ä¸‹ï¼Œåˆ™ <strong>ç»§ç»­åœç•™åœ¨å½“å‰æ–‡ä»¶å¤¹</strong> ã€‚</li>
	<li><code>&quot;./&quot;</code> ï¼šç»§ç»­åœç•™åœ¨å½“å‰æ–‡ä»¶å¤¹<strong>ã€‚</strong></li>
	<li><code>&quot;x/&quot;</code> ï¼šç§»åŠ¨åˆ°åä¸º <code>x</code> çš„å­æ–‡ä»¶å¤¹ä¸­ã€‚é¢˜ç›®æ•°æ® <strong>ä¿è¯æ€»æ˜¯å­˜åœ¨æ–‡ä»¶å¤¹ <code>x</code></strong> ã€‚</li>
</ul>

<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ <code>logs</code> ï¼Œå…¶ä¸­ <code>logs[i]</code> æ˜¯ç”¨æˆ·åœ¨ <code>i<sup>th</sup></code> æ­¥æ‰§è¡Œçš„æ“ä½œã€‚</p>

<p>æ–‡ä»¶ç³»ç»Ÿå¯åŠ¨æ—¶ä½äºä¸»æ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œ <code>logs</code> ä¸­çš„æ“ä½œã€‚</p>

<p>æ‰§è¡Œå®Œæ‰€æœ‰å˜æ›´æ–‡ä»¶å¤¹æ“ä½œåï¼Œè¯·ä½ æ‰¾å‡º <strong>è¿”å›ä¸»æ–‡ä»¶å¤¹æ‰€éœ€çš„æœ€å°æ­¥æ•°</strong> ã€‚</p>

<p>&nbsp;</p>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>

<p><img alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/09/26/sample_11_1957.png" style="height: 151px; width: 775px;"></p>

<pre><strong>è¾“å…¥ï¼š</strong>logs = [&quot;d1/&quot;,&quot;d2/&quot;,&quot;../&quot;,&quot;d21/&quot;,&quot;./&quot;]
<strong>è¾“å‡ºï¼š</strong>2
<strong>è§£é‡Šï¼š</strong>æ‰§è¡Œ &quot;../&quot; æ“ä½œå˜æ›´æ–‡ä»¶å¤¹ 2 æ¬¡ï¼Œå³å¯å›åˆ°ä¸»æ–‡ä»¶å¤¹
</pre>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>

<p><img alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/09/26/sample_22_1957.png" style="height: 270px; width: 600px;"></p>

<pre><strong>è¾“å…¥ï¼š</strong>logs = [&quot;d1/&quot;,&quot;d2/&quot;,&quot;./&quot;,&quot;d3/&quot;,&quot;../&quot;,&quot;d31/&quot;]
<strong>è¾“å‡ºï¼š</strong>3
</pre>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>

<pre><strong>è¾“å…¥ï¼š</strong>logs = [&quot;d1/&quot;,&quot;../&quot;,&quot;../&quot;,&quot;../&quot;]
<strong>è¾“å‡ºï¼š</strong>0
</pre>

<p>&nbsp;</p>

<p><strong>æç¤ºï¼š</strong></p>

<ul>
	<li><code>1 &lt;= logs.length &lt;= 10<sup>3</sup></code></li>
	<li><code>2 &lt;= logs[i].length &lt;= 10</code></li>
	<li><code>logs[i]</code> åŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼Œæ•°å­—ï¼Œ<code>&#39;.&#39;</code> å’Œ <code>&#39;/&#39;</code></li>
	<li><code>logs[i]</code> ç¬¦åˆè¯­å¥ä¸­æè¿°çš„æ ¼å¼</li>
	<li>æ–‡ä»¶å¤¹åç§°ç”±å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ç»„æˆ</li>
</ul>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## é«˜èµé¢˜è§£
![å›¾è§£æ¯æ—¥ä¸€ç»ƒ.jpg](../images/crawler-log-folder-0.jpg)

---

### ğŸ§  è§£é¢˜æ€è·¯

ç†Ÿè¯»é¢˜æ„ï¼Œæˆ‘ä»¬å¯ä»¥å¾—çŸ¥è§„åˆ™å¦‚ä¸‹ï¼š

1. é‡åˆ° `../`ï¼Œè¿”å›ä¸»æ–‡ä»¶çš„å±‚çº§ -1ã€‚
2. é‡åˆ° `./`ï¼Œè¿”å›ä¸»æ–‡ä»¶çš„å±‚çº§æ— å˜åŒ–ã€‚
3. é‡åˆ° `x/`ï¼Œè¿”å›ä¸»æ–‡ä»¶çš„å±‚çº§ +1ã€‚

æ³¨æ„ï¼šè‹¥å½“å‰å±‚çº§ $>=$ ä¸»æ–‡ä»¶å±‚çº§æ—¶ï¼Œæˆ‘ä»¬çš„è®¡æ•°åªéœ€è¦ä¿æŒä¸º $0$ å³å¯ã€‚

æ—¢ç„¶è§„åˆ™å¦‚æ­¤ç®€å•ï¼Œé‚£æˆ‘ä»¬ç›´æ¥ä½¿ç”¨è®¡æ•°æ³•å°±å¯ä»¥æå®šäº†ã€‚

---

### ğŸ¨ å›¾è§£æ¼”ç¤º

<![1.jpg](../images/crawler-log-folder-1.jpg),![2.jpg](../images/crawler-log-folder-2.jpg),![3.jpg](../images/crawler-log-folder-3.jpg),![4.jpg](../images/crawler-log-folder-4.jpg),![5.jpg](../images/crawler-log-folder-5.jpg),![6.jpg](../images/crawler-log-folder-6.jpg),![7.jpg](../images/crawler-log-folder-7.jpg)>

---

### ğŸ­ ç¤ºä¾‹ä»£ç 

```Javascript []
var minOperations = function(logs) {
    let ans = 0;
    logs.forEach(item => {
        if(item === '../') ans = Math.max(0, ans - 1);
        else if(item !== './') ans++;
    });
    return ans;
};
```
```C++ []
class Solution {
public:
    int minOperations(vector<string>& logs) {
        int ans = 0;
        for(const string& log: logs){
            if(log == "../") ans = max(0, ans - 1);
            else if(log != "./") ans++; 
        }
        return ans;
    }
};
```
```Java []
class Solution {
    public int minOperations(String[] logs) {
        int ans = 0;
        for (int i = 0; i < logs.length; i++) {
            if (logs[i].equals("../")) ans = Math.max(0, ans - 1);
            else if(!logs[i].equals("./")) ans++;
        }
        return ans;
    }
}
```
```Golang []
func minOperations(logs []string) int {
	result := 0
	for _, v := range logs {
		op := v[:2]
		switch op {
            case "..":
                if result > 0 {
                    result--
                }
            case "./":
            default:
                result++
		}
	}
	return result
}
```
```Python3 []
class Solution:
    def minOperations(self, logs: List[str]) -> int:
        ans = 0 
        for log in logs:
            if log.startswith("../"):
                ans -= 1
            elif log.startswith("./"):
                ans += 0
            else:
                ans += 1
            ans = ans if ans > 0 else 0
        return ans
```

---

### è½¬èº«æŒ¥æ‰‹

å˜¿ï¼Œå°‘å¹´ï¼Œåšå›¾ä¸æ˜“ï¼Œç•™ä¸‹ä¸ªèµæˆ–è¯„è®ºå†èµ°å§ï¼è°¢å•¦~ ğŸ’

å·®ç‚¹å¿˜äº†ï¼Œç¥ä½ ç‰›å¹´å¤§å‰ ğŸ® ï¼ŒAC å’Œ Offer ğŸ“‘ å¤šå¤šç›Šå–„~

â›²â›²â›² æœŸå¾…ä¸‹æ¬¡å†è§~ 

## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    11590    |    17241    |   67.2%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |

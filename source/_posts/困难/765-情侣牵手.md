---
title: 765-æƒ…ä¾£ç‰µæ‰‹(Couples Holding Hands)
categories:
  - å›°éš¾
tags:
  - è´ªå¿ƒ
  - æ·±åº¦ä¼˜å…ˆæœç´¢
  - å¹¿åº¦ä¼˜å…ˆæœç´¢
  - å¹¶æŸ¥é›†
  - å›¾
abbrlink: 2307247115
date: 2021-12-03 22:35:37
---

> åŸæ–‡é“¾æ¥: https://leetcode-cn.com/problems/couples-holding-hands


## è‹±æ–‡åŸæ–‡
<div><p>There are <code>n</code> couples sitting in <code>2n</code> seats arranged in a row and want to hold hands.</p>

<p>The people and seats are represented by an integer array <code>row</code> where <code>row[i]</code> is the ID of the person sitting in the <code>i<sup>th</sup></code> seat. The couples are numbered in order, the first couple being <code>(0, 1)</code>, the second couple being <code>(2, 3)</code>, and so on with the last couple being <code>(2n - 2, 2n - 1)</code>.</p>

<p>Return <em>the minimum number of swaps so that every couple is sitting side by side</em>. A swap consists of choosing any two people, then they stand up and switch seats.</p>

<p>&nbsp;</p>
<p><strong>Example 1:</strong></p>

<pre>
<strong>Input:</strong> row = [0,2,1,3]
<strong>Output:</strong> 1
<strong>Explanation:</strong> We only need to swap the second (row[1]) and third (row[2]) person.
</pre>

<p><strong>Example 2:</strong></p>

<pre>
<strong>Input:</strong> row = [3,2,0,1]
<strong>Output:</strong> 0
<strong>Explanation:</strong> All couples are already seated side by side.
</pre>

<p>&nbsp;</p>
<p><strong>Constraints:</strong></p>

<ul>
	<li><code>2n == row.length</code></li>
	<li><code>2 &lt;= n &lt;= 30</code></li>
	<li><code>n</code> is even.</li>
	<li><code>0 &lt;= row[i] &lt; 2n</code></li>
	<li>All the elements of <code>row</code> are <strong>unique</strong>.</li>
</ul>
</div>

## ä¸­æ–‡é¢˜ç›®
<div><p>N å¯¹æƒ…ä¾£ååœ¨è¿ç»­æ’åˆ—çš„ 2N ä¸ªåº§ä½ä¸Šï¼Œæƒ³è¦ç‰µåˆ°å¯¹æ–¹çš„æ‰‹ã€‚ è®¡ç®—æœ€å°‘äº¤æ¢åº§ä½çš„æ¬¡æ•°ï¼Œä»¥ä¾¿æ¯å¯¹æƒ…ä¾£å¯ä»¥å¹¶è‚©ååœ¨ä¸€èµ·ã€‚ <em>ä¸€</em>æ¬¡äº¤æ¢å¯é€‰æ‹©ä»»æ„ä¸¤äººï¼Œè®©ä»–ä»¬ç«™èµ·æ¥äº¤æ¢åº§ä½ã€‚</p>

<p>äººå’Œåº§ä½ç”¨&nbsp;<code>0</code>&nbsp;åˆ°&nbsp;<code>2N-1</code>&nbsp;çš„æ•´æ•°è¡¨ç¤ºï¼Œæƒ…ä¾£ä»¬æŒ‰é¡ºåºç¼–å·ï¼Œç¬¬ä¸€å¯¹æ˜¯&nbsp;<code>(0, 1)</code>ï¼Œç¬¬äºŒå¯¹æ˜¯&nbsp;<code>(2, 3)</code>ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€åä¸€å¯¹æ˜¯&nbsp;<code>(2N-2, 2N-1)</code>ã€‚</p>

<p>è¿™äº›æƒ…ä¾£çš„åˆå§‹åº§ä½&nbsp;&nbsp;<code>row[i]</code>&nbsp;æ˜¯ç”±æœ€åˆå§‹ååœ¨ç¬¬ i ä¸ªåº§ä½ä¸Šçš„äººå†³å®šçš„ã€‚</p>

<p><strong>ç¤ºä¾‹ 1:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> row = [0, 2, 1, 3]
<strong>è¾“å‡º:</strong> 1
<strong>è§£é‡Š:</strong> æˆ‘ä»¬åªéœ€è¦äº¤æ¢row[1]å’Œrow[2]çš„ä½ç½®å³å¯ã€‚
</pre>

<p><strong>ç¤ºä¾‹ 2:</strong></p>

<pre>
<strong>è¾“å…¥:</strong> row = [3, 2, 0, 1]
<strong>è¾“å‡º:</strong> 0
<strong>è§£é‡Š:</strong> æ— éœ€äº¤æ¢åº§ä½ï¼Œæ‰€æœ‰çš„æƒ…ä¾£éƒ½å·²ç»å¯ä»¥æ‰‹ç‰µæ‰‹äº†ã€‚
</pre>

<p><strong>è¯´æ˜:</strong></p>

<ol>
	<li><code>len(row)</code> æ˜¯å¶æ•°ä¸”æ•°å€¼åœ¨&nbsp;<code>[4, 60]</code>èŒƒå›´å†…ã€‚</li>
	<li>å¯ä»¥ä¿è¯<code>row</code> æ˜¯åºåˆ—&nbsp;<code>0...len(row)-1</code>&nbsp;çš„ä¸€ä¸ªå…¨æ’åˆ—ã€‚</li>
</ol>
</div>

## é€šè¿‡ä»£ç 
<RecoDemo>
</RecoDemo>


## å®˜æ–¹é¢˜è§£
### ğŸ“º è§†é¢‘è®²è§£ 

>åŠ›æ‰£å›æ¸©é¦¨å°è´´å£«ï¼šè§‰å¾—è§†é¢‘æ—¶é—´é•¿çš„æ‰£å‹ï¼Œå¯ä»¥åœ¨è§†é¢‘å³ä¸‹è§’çš„ã€Œè®¾ç½®ã€æŒ‰é’®å¤„é€‰æ‹© 1.5 å€é€Ÿæˆ–è€… 2 å€é€Ÿè§‚çœ‹ã€‚

![765. æƒ…ä¾£ç‰µæ‰‹.mp4](a3aa17e5-1fca-41b0-aa48-b7661fc0bb80)


**é¢˜æ„è§£è¯»**ï¼š

ä¸€å¯¹æƒ…ä¾£ï¼Œä¸¤ä¸ªåº§ä½ï¼Œæ— é¡»äº¤æ¢å°±å¯ä»¥ç‰µæ‰‹æˆåŠŸã€‚

![image.png](../images/couples-holding-hands-0.png){:width=400}{:align=center}

ä¸¤å¯¹æƒ…ä¾£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ—¶å€™ï¼Œæœ€å°‘é¡»è¦äº¤æ¢ $1$ æ¬¡ã€‚

![image.png](../images/couples-holding-hands-1.png)

ä¸‰å¯¹æƒ…ä¾£ï¼Œå¦‚æœä¸èƒ½å¤Ÿå½¼æ­¤ç‰µæ‰‹ï¼Œåªå¯èƒ½å‡ºç°ä¸‹é¢è¿™ç§ **é¦–å°¾ç›¸è¿** çš„æƒ…å†µã€‚

![image.png](../images/couples-holding-hands-2.png){:width=700}{:align=center}

å››å¯¹æƒ…ä¾£ã€äº”å¯¹æƒ…ä¾£ä»¥ä¸Šçš„æƒ…å†µä¹Ÿå¯ä»¥ç±»ä¼¼çœ‹å¾…ã€‚é€šè¿‡ä¸¾ä¾‹ï¼Œå¯ä»¥çŸ¥é“æŠŠ **åé”™äº†ä½ç½®ã€é€»è¾‘ä¸Šè¿åœ¨ä¸€èµ·çš„æƒ…ä¾£** æ‹†æˆæ‰€æœ‰çš„æƒ…ä¾£éƒ½èƒ½å½¼æ­¤ç‰µæ‰‹çš„ **ã€Œæœ€å°‘äº¤æ¢æ¬¡æ•° = æƒ…ä¾£å¯¹æ•° - 1ã€**ã€‚

### æ–¹æ³•ï¼šå¹¶æŸ¥é›†

ã€Œé¦–å°¾ç›¸è¿ã€è¿™ä»¶äº‹æƒ…å¯ä»¥ä½¿ç”¨ **å¹¶æŸ¥é›†** è¡¨ç¤ºï¼Œå°†è¾“å…¥æ•°ç»„ç›¸é‚»ä½ç½®çš„ä¸¤ä¸ª **ç¼–å·** åœ¨å¹¶æŸ¥é›†ä¸­è¿›è¡Œåˆå¹¶ã€‚ç¼–å†™ä»£ç åŸºäºäº†ä¸‹é¢çš„äº‹å®ï¼š

å¦‚æœä¸€å¯¹æƒ…ä¾£æ°å¥½ååœ¨äº†ä¸€èµ·ï¼Œå¹¶ä¸”ååœ¨äº†æˆç»„çš„åº§ä½ä¸Šï¼Œå…¶ä¸­ä¸€ä¸ªä¸‹æ ‡ä¸€å®šæ˜¯å¶æ•°ï¼Œå¦ä¸€ä¸ªä¸€å®šæ˜¯å¥‡æ•°ï¼Œå¹¶ä¸”ã€Œå¶æ•°çš„å€¼ + 1 = å¥‡æ•°çš„å€¼ã€ã€‚ä¾‹å¦‚ç¼–å·æ•°å¯¹ `[2, 3]`ã€`[9, 8]`ï¼Œè¿™äº›æ•°å¯¹çš„ç‰¹ç‚¹æ˜¯é™¤ä»¥ $2$ï¼ˆä¸‹å–æ•´ï¼‰å¾—åˆ°çš„æ•°ç›¸ç­‰ã€‚

#### è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ

è¦æ±‚å‡ºã€Œæœ€å°‘äº¤æ¢æ¬¡æ•°ã€ã€‚å‡è®¾ä¸€å…±æœ‰ $N$ å¯¹æƒ…ä¾£ï¼Œé€»è¾‘ä¸Šè¿åœ¨äº†ä¸€èµ·çš„æƒ…ä¾£ï¼ˆåŒ…æ‹¬åé”™ä½ç½®å’Œåå¯¹ä½ç½®çš„æƒ…å†µï¼‰åˆ†åˆ«æœ‰ $N_1,N_2,\cdots,N_n$ å¯¹ï¼Œè¿™é‡Œ $n$ æ˜¯å¹¶æŸ¥é›†é‡Œè¿é€šåˆ†é‡çš„ä¸ªæ•°ï¼Œå¹¶ä¸” $N_1 + N_2 + \cdots N_n = N$ã€‚æŠŠé€»è¾‘ä¸Šè¿åœ¨ä¸€èµ·çš„æƒ…ä¾£æ‹†å¼€ï¼Œæ¯ä¸€ä¸ªè¿é€šåˆ†é‡è‡³å°‘é¡»è¦ $N_1 - 1,N_2 - 1,\cdots,N_n - 1$ æ¬¡ã€‚

![image.png](../images/couples-holding-hands-3.png)


è¿™ç§è§„å¾‹å¯¹äºåˆå§‹çš„æ—¶å€™å·²ç»ååœ¨ä¸€èµ·çš„æƒ…ä¾£åŒæ ·æˆç«‹ï¼Œå› ä¸ºå·²ç»ååœ¨ä¸€èµ·çš„æƒ…ä¾£åœ¨å¹¶æŸ¥é›†é‡Œæˆä¸ºä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œæ— é¡»äº¤æ¢ï¼Œæ­¤æ—¶ $1 - 1 = 0$ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œè®©æ‰€æœ‰çš„æƒ…ä¾£éƒ½èƒ½ç‰µæ‰‹è‡³å°‘é¡»è¦äº¤æ¢çš„æ¬¡æ•°ä¸º 

$$
(N_1 - 1) + (N_2 - 1) + \cdots + (N_n - 1) = (N_1 + N_2 + \cdots + N_n) - n = N - n
$$

æ•…ã€Œè‡³å°‘äº¤æ¢çš„æ¬¡æ•° = æ‰€æœ‰æƒ…ä¾£çš„å¯¹æ•° - å¹¶æŸ¥é›†é‡Œè¿é€šåˆ†é‡çš„ä¸ªæ•°ã€ã€‚

**å‚è€ƒä»£ç **ï¼š

```Java []
public class Solution {

    public int minSwapsCouples(int[] row) {
        int len = row.length;
        int N = len / 2;
        UnionFind unionFind = new UnionFind(N);
        for (int i = 0; i < len; i += 2) {
            unionFind.union(row[i] / 2, row[i + 1] / 2);
        }
        return N - unionFind.getCount();
    }

    private class UnionFind {

        private int[] parent;

        private int count;

        public int getCount() {
            return count;
        }

        public UnionFind(int n) {
            this.count = n;
            this.parent = new int[n];
            for (int i = 0; i < n; i++) {
                parent[i] = i;
            }
        }

        public int find(int x) {
            while (x != parent[x]) {
                parent[x] = parent[parent[x]];
                x = parent[x];
            }
            return x;
        }

        public void union(int x, int y) {
            int rootX = find(x);
            int rootY = find(y);
            if (rootX == rootY) {
                return;
            }

            parent[rootX] = rootY;
            count--;
        }
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

+ æ—¶é—´å¤æ‚åº¦ï¼š $O(N \log N)$ï¼Œè¿™é‡Œ $N$  æ˜¯è¾“å…¥æ•°ç»„çš„é•¿åº¦ï¼Œ$O(\cfrac{N}{2} \log \cfrac{N}{2}) = O(N\log N)$ ï¼›
+ ç©ºé—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œå¹¶æŸ¥é›†åº•å±‚ä½¿ç”¨çš„æ•°ç»„é•¿åº¦ä¸º $\cfrac{N}{2}$ï¼Œ$O(\cfrac{N}{2})= O(N)$ã€‚

## ç»Ÿè®¡ä¿¡æ¯
| é€šè¿‡æ¬¡æ•° | æäº¤æ¬¡æ•° | ACæ¯”ç‡ |
| :------: | :------: | :------: |
|    29862    |    44942    |   66.4%   |

## æäº¤å†å²
| æäº¤æ—¶é—´ | æäº¤ç»“æœ | æ‰§è¡Œæ—¶é—´ |  å†…å­˜æ¶ˆè€—  | è¯­è¨€ |
| :------: | :------: | :------: | :--------: | :--------: |


## ç›¸ä¼¼é¢˜ç›®
|                             é¢˜ç›®                             | éš¾åº¦ |
| :----------------------------------------------------------: | :---------: |
| [ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°](https://leetcode-cn.com/problems/first-missing-positive/) | å›°éš¾|
| [ä¸¢å¤±çš„æ•°å­—](https://leetcode-cn.com/problems/missing-number/) | ç®€å•|
| [ç›¸ä¼¼åº¦ä¸º K çš„å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/k-similar-strings/) | å›°éš¾|
